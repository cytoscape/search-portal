(this["webpackJsonpsearch-portal"]=this["webpackJsonpsearch-portal"]||[]).push([[0],{101:function(e){e.exports=JSON.parse('{"examples":[{"name":"Hypoxia","genes":"ADM ADORA2B AK4 AKAP12 ALDOA ALDOB ALDOC AMPD3 ANGPTL4 ANKZF1 ANXA2 ATF3 ATP7A B3GALT6 B4GALNT2 BCAN BCL2 BGN BHLHE40 BNIP3L BRS3 BTG1 CA12 CASP6 CAV1 CCNG2 CCRN4L CDKN1A CDKN1B CDKN1C CHST2 CHST3 CITED2 COL5A1 CP CSRP2 CTGF CXCR4 CXCR7 CYR61 DCN DDIT3 DDIT4 DPYSL4 DTNA DUSP1 EDN2 EFNA1 EFNA3 EGFR ENO1 ENO2 ENO3 ERO1L ERRFI1 ETS1 EXT1 F3 FAM162A FBP1 FOS FOSL2 FOXO3 GAA GALK1 GAPDH GAPDHS GBE1 GCK GCNT2 GLRX GPC1 GPC3 GPC4 GPI GRHPR GYS1 HAS1 HDLBP HEXA HK1 HK2 HMOX1 HOXB9 HS3ST1 HSPA5 IDS IER3 IGFBP1 IGFBP3 IL6 ILVBL INHA IRS2 ISG20 JMJD6 JUN KDELR3 KDM3A KIF5A KLF6 KLF7 KLHL24 LALBA LARGE LDHA LDHC LOX LXN MAFF MAP3K1 MIF MT1E MT2A MXI1 MYH9 NAGK NCAN NDRG1 NDST1 NDST2 NEDD4L NFIL3 NR3C1 P4HA1 P4HA2 PAM PCK1 PDGFB PDK1 PDK3 PFKFB3 PFKL PFKP PGAM2 PGF PGK1 PGM1 PGM2 PHKG1 PIM1 PKLR PKP1 PLAC8 PLAUR PLIN2 PNRC1 PPARGC1A PPFIA4 PPP1R15A PPP1R3C PRDX5 PRKCA PRKCDBP PTRF PYGM RBPJ RORA RRAGD S100A4 SAP30 SCARB1 SDC2 SDC3 SDC4 SELENBP1 SERPINE1 SIAH2 SLC25A1 SLC2A1 SLC2A3 SLC2A5 SLC37A4 SLC6A6 SRPX STBD1 STC1 STC2 SULT2B1 TES TGFB3 TGFBI TGM2 TIPARP TKTL1 TMEM45A TNFAIP3 TPBG TPD52 TPI1 TPST2 UGP2 VEGFA VHL VLDLR WISP2 WSB1 XPNPEP1 ZFP36 ZNF292","description":"The 200 genes comprising the MSigDB Hallmark Gene Set for Hypoxia"},{"name":"Death Receptors","genes":"APAF1 BCL2 BID BIRC2 BIRC3 CASP10 CASP3 CASP6 CASP7 CFLAR CHUK DFFA DFFB FADD GAS2 LMNA MAP3K14 NFKB1 RELA RIPK1 SPTAN1 TNFRSF25 TNFSF10 TRADD TRAF2 XIAP","description":"25 genes involved in the induction of apoptosis through DR3 and DR4/5 Death Receptors"},{"name":"Reactive Oxygen Species","genes":"ABCC1 ATOX1 CAT CDKN2D EGLN2 ERCC2 FES FTL G6PD GCLC GCLM GLRX GLRX2 GPX3 GPX4 GSR HHEX HMOX2 IPCEF1 JUNB LAMTOR5 LSP1 MBP MGST1 MPO MSRA NDUFA6 NDUFB4 NDUFS2 NQO1 OXSR1 PDLIM1 PFKP PRDX1 PRDX2 PRDX4 PRDX6 PRNP PTPA SBNO2 SCAF4 SELENOS SOD1 SOD2 SRXN1 STK25 TXN TXNRD1 TXNRD2","description":"The 49 genes comprising the MSigDB Hallmark Gene Set for Reactive Oxygen Species Processes"},{"name":"Coxsackie Virus-Human","genes":"YTHD3 XRN2 TM225 SETD3 RTRAF RING1 REL RAVR1 RAE1L PURB PTBP1 PRC2B PAN2 NUP98 NCBP3 MYCB2 LAR4B IMA5 IF4G1 FBSP1 FA98A F120A EIF3M EIF3L EIF3K EIF3I EIF3H EIF3G EIF3F EIF3E EIF3D EIF3C EIF3B EIF3A DPYL2 DDX1 CSK21 CPSF6 CISY CBX1 CARF C2AIL","description":"42 human host proteins that were shown to interact with the 2A protein of the Coxsackie virus in Diep et al. Nature Microbiology (2019). The larger network from the paper is, not surprisingly, the top enrichment result, but interestingly, one of the top results is a network of HIV-Human interactors that shares a set of proteins related to translation initiation."}],"other examples":[{"name":"Adenyl Cyclase","genes":"ADCY1 ADCY2 ADCY3 ADCY4 ADCY5 ADCY6 ADCY7 ADCY8 ADCY9 ADCYAP1 ADM2 ADORA2A ADORA2B ADRA1A ADRA1B ADRA1D ADRA2A ADRA2B ADRA2C ADRB1 ADRB2 ADRB3 CALCA CALCR CALCRL CHGA CRHR1 DRD1 DRD2 DRD3 DRD5 FSHR GALR1 GALR2 GCGR GHRH GHRHR GNA13 GNAL GNAQ GNAS GNB1 GNG2 GPER GPR101 GPR133 GPR21 GPR26 GPR3 GPR52 GPR78 LHCGR NPR3 OPRM1 OR13F1 OR56A1 OR56A4 OR56A5 OR5T1 PDE4D PTGER2 PTGIR PTH PTH1R PTHLH RAPGEF2 RXFP2 S1PR4 SLC9A3R1 TSHR UCN2 UCN3 VIP"},{"name":"D4GDI","genes":"APAF1 ARHGAP5 ARHGDIB CASP1 CASP10 CASP3 CASP8 CASP9 CYCS GZMB JUN PARP1 PRF1"},{"name":"Angiotensin","genes":"ACE ACE2 AGT AGTR1 AGTR2 CYBA DRD3 NKX2-1 REN RPS6KA2 TACR1"},{"name":"Estrogen","genes":"AKT1 BCAR1 ESR1 ESR2 GNA11 GNA13 GNA14 GNA15 GNAI1 GNAI2 GNAI3 GNAL GNAO1 GNAQ GNAZ GNB1 GNG2 GRB2 HBEGF HRAS IGF1 IGF1R KRAS MAPK11 MMP2 MMP9 MSN NOS3 NRAS PELP1 PIK3CA PIK3R1 PLCB1 PLCB2 PLCB3 RHOA ROCK2 SHC1 SOS1 SRC STRN"}]}')},120:function(e,t,n){},125:function(e,t,n){},135:function(e,t,n){e.exports=n.p+"static/media/cytoscape-logo-mono-light.5b5f28e2.svg"},136:function(e,t,n){e.exports=n.p+"static/media/zoom-logo.55a0b3a1.svg"},137:function(e,t,n){e.exports=n.p+"static/media/zoom-logo-mono.1cd5bbee.svg"},142:function(e,t,n){e.exports=n.p+"static/media/google-logo.c21ca9d1.svg"},143:function(e,t,n){e.exports=n.p+"static/media/google-logo-disabled.02062f61.svg"},144:function(e,t,n){e.exports=n.p+"static/media/ndex-logo-mono-light.b9de38dc.svg"},151:function(e,t,n){e.exports=n.p+"static/media/github.617870e4.svg"},156:function(e,t,n){e.exports=n.p+"static/media/search-logo.19dae5a4.svg"},157:function(e,t,n){e.exports=n.p+"static/media/ucsd-logo.5838f23e.svg"},159:function(e){e.exports=JSON.parse('[{"format_version":"1.0","generated_by":"cytoscape-3.7.1","target_cytoscapejs_version":"~2.1","title":"dark4","style":[{"selector":"node","css":{"background-opacity":1,"shape":"ellipse","height":70,"text-opacity":1,"font-size":18,"border-opacity":1,"color":"rgb(255,255,255)","border-width":0,"text-valign":"center","text-halign":"center","font-family":"SFProText-Medium","font-weight":"normal","background-color":"rgb(0,102,102)","width":110,"border-color":"rgb(255,102,102)","content":"data(name)"}},{"selector":"node[type = \'phenotype\']","css":{"background-opacity":0.39215686274509803,"shape":"roundrectangle","background-color":"rgb(255,255,255)","width":220}},{"selector":"node[type = \'smallmolecule\']","css":{"width":20}},{"selector":"node[type = \'complex\']","css":{"width":180}},{"selector":"node[type = \'smallmolecule\']","css":{"shape":"octagon"}},{"selector":"node[type = \'proteinfamily\']","css":{"shape":"rectangle"}},{"selector":"node[type = \'smallmolecule\']","css":{"height":20}},{"selector":"node[type = \'complex\']","css":{"height":180}},{"selector":"node[type = \'proteinfamily\']","css":{"color":"rgb(153,153,153)"}},{"selector":"node[type = \'smallmolecule\']","css":{"background-color":"rgb(255,255,255)"}},{"selector":"node[type = \'complex\']","css":{"background-color":"rgb(0,153,204)"}},{"selector":"node[type = \'proteinfamily\']","css":{"background-color":"rgb(255,255,255)"}},{"selector":"node[querynode]","css":{"border-width":20}},{"selector":"node[type = \'smallmolecule\']","css":{"text-valign":"bottom"}},{"selector":"edge","css":{"curve-style":"bezier","line-style":"solid","target-arrow-color":"#FFFFFF","line-color":"#FFFFFF","width":2,"opacity":0.39215686274509803}},{"selector":"edge[directed]","css":{"target-arrow-shape":"triangle"}},{"selector":"node:selected","css":{"background-color":"rgb(255,102,102)"}},{"selector":"edge:selected","css":{"target-arrow-shape":"triangle","line-color":"rgb(255,0,0)"}}]}]')},180:function(e,t,n){e.exports=n(242)},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},194:function(e,t,n){},202:function(e,t,n){},220:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){e.exports=n.p+"static/media/cytoscape-logo-mono-dark.72d0e13b.svg"},226:function(e,t,n){e.exports=n.p+"static/media/nrnb-logo-mono-dark.5a41574a.svg"},227:function(e,t,n){e.exports=n.p+"static/media/wp-logo-mono-dark.1183f75b.svg"},228:function(e,t,n){e.exports=n.p+"static/media/ideker-logo-mono-dark.5722eed3.svg"},229:function(e,t,n){},242:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SET_QUERY",(function(){return y})),n.d(a,"CLEAR_QUERY",(function(){return v})),n.d(a,"SEARCH_STARTED",(function(){return O})),n.d(a,"SEARCH_SUCCEEDED",(function(){return S})),n.d(a,"SEARCH_FAILED",(function(){return w})),n.d(a,"SET_SEARCH_RESULT",(function(){return C})),n.d(a,"FETCH_RESULT_STARTED",(function(){return k})),n.d(a,"FETCH_RESULT_SUCCEEDED",(function(){return j})),n.d(a,"FETCH_RESULT_FAILED",(function(){return N})),n.d(a,"CLEAR_ALL",(function(){return A})),n.d(a,"SET_SELECTED_GENES",(function(){return x})),n.d(a,"CLEAR_SELECTED_GENES",(function(){return T})),n.d(a,"SET_SEARCH_RESULT_ORDER",(function(){return P})),n.d(a,"SET_ACTUAL_RESULTS",(function(){return R})),n.d(a,"setQuery",(function(){return D})),n.d(a,"clearQuery",(function(){return L})),n.d(a,"searchStarted",(function(){return I})),n.d(a,"searchSucceeded",(function(){return F})),n.d(a,"searchFailed",(function(){return _})),n.d(a,"setSearchResult",(function(){return G})),n.d(a,"fetchResultStarted",(function(){return U})),n.d(a,"fetchResultSucceeded",(function(){return B})),n.d(a,"fetchResultFailed",(function(){return H})),n.d(a,"clearAll",(function(){return M})),n.d(a,"setSelectedGenes",(function(){return K})),n.d(a,"clearSelectedGenes",(function(){return X})),n.d(a,"setSearchResultOrder",(function(){return W})),n.d(a,"setActualResults",(function(){return q}));var r={};n.r(r),n.d(r,"SET_SETTINGS_OPEN",(function(){return z})),n.d(r,"setSettingsOpen",(function(){return V})),n.d(r,"SET_CYTOSCAPE_STATUS",(function(){return Y})),n.d(r,"setCytoscapeStatus",(function(){return $})),n.d(r,"SET_SERVICES_LIST_OPEN",(function(){return Q})),n.d(r,"setServicesListOpen",(function(){return J})),n.d(r,"SET_HIGHLIGHTS",(function(){return Z})),n.d(r,"setHighlights",(function(){return ee})),n.d(r,"SET_SELECTED_SOURCE",(function(){return te})),n.d(r,"setSelectedSource",(function(){return ne})),n.d(r,"SET_SORT_OPTIONS",(function(){return ae})),n.d(r,"SET_SORT_BY",(function(){return re})),n.d(r,"setSortOptions",(function(){return oe})),n.d(r,"setSortBy",(function(){return ce})),n.d(r,"SET_LAYOUT",(function(){return ie})),n.d(r,"SET_LAYOUTS",(function(){return le})),n.d(r,"setLayout",(function(){return se})),n.d(r,"setLayouts",(function(){return ue})),n.d(r,"SET_ANNOTATIONS",(function(){return de})),n.d(r,"setAnnotations",(function(){return me})),n.d(r,"FIT_NETWORK_VIEW",(function(){return pe})),n.d(r,"fitNetworkView",(function(){return ge})),n.d(r,"UPDATE",(function(){return fe})),n.d(r,"update",(function(){return he}));var o={};n.r(o),n.d(o,"NETWORK_FETCH_STARTED",(function(){return Ee})),n.d(o,"NETWORK_FETCH_SUCCEEDED",(function(){return be})),n.d(o,"NETWORK_FETCH_FAILED",(function(){return ye})),n.d(o,"NETWORK_CLEAR",(function(){return ve})),n.d(o,"SELECT_NODES",(function(){return Oe})),n.d(o,"UNSELECT_NODES",(function(){return Se})),n.d(o,"SELECT_EDGES",(function(){return we})),n.d(o,"UNSELECT_EDGES",(function(){return Ce})),n.d(o,"DESELECT_ALL",(function(){return ke})),n.d(o,"CHANGE_TAB",(function(){return je})),n.d(o,"CHANGE_LIST_INDEX",(function(){return Ne})),n.d(o,"SET_ORIGINAL_NETWORK_URL",(function(){return Ae})),n.d(o,"networkFetchStarted",(function(){return xe})),n.d(o,"networkFetchSucceeded",(function(){return Te})),n.d(o,"networkFetchFailed",(function(){return Pe})),n.d(o,"networkClear",(function(){return Re})),n.d(o,"selectNodes",(function(){return De})),n.d(o,"unselectNodes",(function(){return Le})),n.d(o,"selectEdges",(function(){return Ie})),n.d(o,"unselectEdges",(function(){return Fe})),n.d(o,"deselectAll",(function(){return _e})),n.d(o,"changeTab",(function(){return Ge})),n.d(o,"changeListIndex",(function(){return Ue})),n.d(o,"setOriginalNetworkUrl",(function(){return Be}));var c={};n.r(c),n.d(c,"FIND_SOURCE_STARTED",(function(){return He})),n.d(c,"FIND_SOURCE_SUCCEEDED",(function(){return Me})),n.d(c,"FIND_SOURCE_FAILED",(function(){return Ke})),n.d(c,"SET_CURRENT_SOURCE",(function(){return Xe})),n.d(c,"findSourceStarted",(function(){return We})),n.d(c,"findSourceSucceeded",(function(){return qe})),n.d(c,"findSourceFailed",(function(){return ze})),n.d(c,"setCurrentSource",(function(){return Ve}));var i={};n.r(i),n.d(i,"IMPORT_NETWORK_STARTED",(function(){return Ye})),n.d(i,"IMPORT_NETWORK_SUCCEEDED",(function(){return $e})),n.d(i,"IMPORT_NETWORK_FAILED",(function(){return Qe})),n.d(i,"importNetworkStarted",(function(){return Je})),n.d(i,"importNetworkSucceeded",(function(){return Ze})),n.d(i,"importNetworkFailed",(function(){return et})),n.d(i,"SET_PORT",(function(){return tt})),n.d(i,"setPort",(function(){return nt})),n.d(i,"FETCH_AVAILABLE",(function(){return at})),n.d(i,"SET_AVAILABLE",(function(){return rt})),n.d(i,"fetchAvailable",(function(){return ot})),n.d(i,"setAvailable",(function(){return ct})),n.d(i,"START_CYREST_POLLING",(function(){return it})),n.d(i,"STOP_CYREST_POLLING",(function(){return lt})),n.d(i,"startCyRestPolling",(function(){return st})),n.d(i,"stopCyRestPolling",(function(){return ut}));var l={};n.r(l),n.d(l,"SET_NDEX_MODAL_OPEN",(function(){return dt})),n.d(l,"setNDExModalOpen",(function(){return mt})),n.d(l,"SET_PROFILE",(function(){return pt})),n.d(l,"setProfile",(function(){return gt})),n.d(l,"CREDENTIALS_SIGN_ON",(function(){return ft})),n.d(l,"credentialsSignOn",(function(){return ht})),n.d(l,"GOOGLE_SIGN_ON",(function(){return Et})),n.d(l,"googleSignOn",(function(){return bt})),n.d(l,"SAVE_TO_NDEX",(function(){return yt})),n.d(l,"saveToNDEx",(function(){return vt})),n.d(l,"SET_NETWORK_URL",(function(){return Ot})),n.d(l,"setNetworkUrl",(function(){return St})),n.d(l,"SET_ERROR_MESSAGE",(function(){return wt})),n.d(l,"setErrorMessage",(function(){return Ct}));var s=n(0),u=n.n(s),d=n(18),m=n(75),p=(n(189),n(16)),g=n(93),f=n(59),h=n(160),E=n(127),b=(n(190),n(317)),y="SET_QUERY",v="CLEAR_QUERY",O="SEARCH_STARTED",S="SEARCH_SUCCEEDED",w="SEARCH_FAILED",C="SET_SEARCH_RESULT",k="FETCH_RESULT_STARTED",j="FETCH_RESULT_SUCCEEDED",N="FETCH_RESULT_FAILED",A="CLEAR_ALL",x="SET_SELECTED_GENES",T="CLEAR_SELECTED_GENES",P="SET_SEARCH_RESULT_ORDER",R="SET_ACUTAL_RESULTS",D=Object(b.a)(y),L=Object(b.a)(v),I=Object(b.a)(O),F=Object(b.a)(S),_=Object(b.a)(w),G=Object(b.a)(C),U=Object(b.a)(k),B=Object(b.a)(j),H=Object(b.a)(N),M=Object(b.a)(A),K=Object(b.a)(x),X=Object(b.a)(T),W=Object(b.a)(P),q=Object(b.a)(R),z="SET_SETTINGS_OPEN",V=Object(b.a)(z),Y="SET_CYTOSCAPE_STATUS",$=Object(b.a)(Y),Q="SET_SERVICES_LIST_OPEN",J=Object(b.a)(Q),Z="SET_HIGHLIGHTS",ee=Object(b.a)(Z),te="SET_SELECTED_SOURCE",ne=Object(b.a)(te),ae="SET_SORT_OPTIONS",re="SET_SORT_BY",oe=Object(b.a)(ae),ce=Object(b.a)(re),ie="SET_LAYOUT",le="SET_LAYOUTS",se=Object(b.a)(ie),ue=Object(b.a)(le),de="SET_ANNOTATIONS",me=Object(b.a)(de),pe="FIT_NETWORK_VIEW",ge=Object(b.a)(pe),fe="UPDATE",he=Object(b.a)(fe),Ee="NETWORK_FETCH_STARTED",be="NETWORK_FETCH_SUCCEEDED",ye="NETWORK_FETCH_FAILED",ve="NETWORK_CLEAR",Oe="SELECT_NODES",Se="UNSELECT_NODES",we="SELECT_EDGES",Ce="UNSELECT_EDGES",ke="DESELECT_ALL",je="CHANGE_TAB",Ne="CHANGE_LIST_INDEX",Ae="SET_ORIGINAL_NETWORK_URL",xe=Object(b.a)(Ee),Te=Object(b.a)(be),Pe=Object(b.a)(ye),Re=Object(b.a)(ve),De=Object(b.a)(Oe),Le=Object(b.a)(Se),Ie=Object(b.a)(we),Fe=Object(b.a)(Ce),_e=Object(b.a)(ke),Ge=Object(b.a)(je),Ue=Object(b.a)(Ne),Be=Object(b.a)(Ae),He="FIND_SOURCE_STARTED",Me="FIND_SOURCE_SUCCEEDED",Ke="FIND_SOURCE_FAILED",Xe="SET_CURRENT_SOURCE",We=Object(b.a)(He),qe=Object(b.a)(Me),ze=Object(b.a)(Ke),Ve=Object(b.a)(Xe),Ye="IMPORT_NETWORK_STARTED",$e="IMPORT_NETWORK_SUCCEEDED",Qe="IMPORT_NETWORK_FAILED",Je=Object(b.a)(Ye),Ze=Object(b.a)($e),et=Object(b.a)(Qe),tt="SET_PORT",nt=Object(b.a)(tt),at="FETCH_AVAILABLE",rt="SET_AVAILABLE",ot=Object(b.a)(at),ct=Object(b.a)(rt),it="START_CYREST_POLLING",lt="STOP_CYREST_POLLING",st=Object(b.a)(it),ut=Object(b.a)(lt),dt="SET_NDEX_MODAL_OPEN",mt=Object(b.a)(dt),pt="SET_PROFILE",gt=Object(b.a)(pt),ft="CREDENTIALS_SIGN_ON",ht=Object(b.a)(ft),Et="GOOGLE_SIGN_ON",bt=Object(b.a)(Et),yt="SAVE_TO_NDEX",vt=Object(b.a)(yt),Ot="SET_NETWORK_URL",St=Object(b.a)(Ot),wt="SET_ERROR_MESSAGE",Ct=Object(b.a)(wt),kt=n(38),jt=n(13),Nt=(n(191),n(192),n(82)),At=n(243),xt=n(287),Tt=n(321),Pt=n(50),Rt=n.n(Pt),Dt=n(245),Lt=n(246),It=n(286),Ft=n(320),_t={padding:"0",borderRadius:"20px",height:"32px",borderWidth:"0",backgroundColor:"#FFFFFF"},Gt={padding:"0",borderRadius:"20px",height:"32px",borderWidth:"0",backgroundColor:"rgb(252, 235, 242)"},Ut={margin:"0",borderRadius:"20px"},Bt={backgroundColor:"transparent"},Ht=Object(At.a)({label:{backgroundColor:"transparent"}})(It.a),Mt=function(e,t){return t.has(e.toUpperCase())?u.a.createElement(Tt.a,{avatar:u.a.createElement(xt.a,{style:{height:"32px",width:"32px",position:"relative",left:"-4px"}},u.a.createElement(Rt.a,{style:{height:"18px"}})),label:e,variant:"outlined",color:"secondary",key:e,selected:!0,style:Ut,clickable:!0}):u.a.createElement(Tt.a,{avatar:u.a.createElement(xt.a,{style:{height:"32px",width:"32px",position:"relative",left:"-4px"}},"-"),label:e,variant:"outlined",color:"default",key:e,selected:!0,style:Ut,clickable:!1})},Kt=function(e){var t=e.search.results,n=e.network.hitGenes,a=new Set(n),r=function(t,n){if(n in e.geneToNodeMap){var a=e.geneToNodeMap[n];a===e.search.selectedGenes[0]?e.searchActions.clearSelectedGenes():e.searchActions.setSelectedGenes(a)}else n===e.search.selectedGenes[0]?e.searchActions.clearSelectedGenes():e.searchActions.setSelectedGenes(n)};if(!t)return u.a.createElement("div",{className:"gene-list-wrapper"});var o=t.genes;if(!o)return u.a.createElement("div",{className:"gene-list-wrapper"});var c=[],i=[],l=new Set,s=!0,d=!1,m=void 0;try{for(var p,g=o.values()[Symbol.iterator]();!(s=(p=g.next()).done);s=!0){var f=p.value;l.add(f.symbol)}}catch(k){d=!0,m=k}finally{try{s||null==g.return||g.return()}finally{if(d)throw m}}var h=!0,E=!1,b=void 0;try{for(var y,v=l[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var O=y.value;a.has(O.toUpperCase())?c.push(O):i.push(O)}}catch(k){E=!0,b=k}finally{try{h||null==v.return||v.return()}finally{if(E)throw b}}var S=c.sort(),w=i.sort(),C=[].concat(Object(Nt.a)(S),Object(Nt.a)(w));return u.a.createElement("div",{className:"gene-list-wrapper"},u.a.createElement(Dt.a,null,C.map((function(t){return u.a.createElement(Lt.a,{key:t},u.a.createElement(Ft.a,{value:e.search.selectedGenes,exclusive:!0,onChange:r,style:Bt},u.a.createElement(Ht,{value:t,style:a.has(t)&&e.search.selectedGenes[0]===t?Gt:_t},Mt(t,a))))}))))},Xt=function(e){var t,n,a={};if(null!=e.network.originalCX){for(var r=0;r<e.network.originalCX.length&&(null==e.network.originalCX[r].nodes||(t=e.network.originalCX[r].nodes,void 0==n))&&(null==e.network.originalCX[r].nodeAttributes||(n=e.network.originalCX[r].nodeAttributes,void 0==t));r++);for(var o=function(e){var r,o=n[e];if("member"===o.n)for(var c=t.filter((function(e){return e["@id"]===o.po}))[0].n,i=o.v,l=0;l<i.length;l++)a[(r=o.v[l],null==r?null:r.startsWith("hgnc.symbol:")&&r.length>12?r.substring(12):r)]=c},c=0;c<n.length;c++)o(c)}return u.a.createElement("div",{className:"input-container"},u.a.createElement("div",{className:"input-wrapper"},u.a.createElement("div",{className:"gene-list-title"},"Query Genes"," ",e.search.results?"("+e.search.results.genes.size+")":null),u.a.createElement(Kt,Object.assign({geneToNodeMap:a},e))))},Wt=n(58),qt=n(6),zt=n(314),Vt=n(288),Yt=function(e){var t=Object(qt.a)((function(t){return{root:{"&:hover":{backgroundColor:e.backgroundcolor,opacity:1}}}}))((function(e){return u.a.createElement(Vt.a,e)}));return u.a.createElement(t,e)},$t=n(83),Qt=(n(194),function(e){return u.a.createElement("div",{className:"results-container"},u.a.createElement("div",{className:"message"},u.a.createElement($t.a,{variant:"h3"},e.message)))}),Jt=(n(64),n(77)),Zt=n(129),en=n.n(Zt),tn=n(81),nn=n(105),an=n.n(nn),rn=n(130),on=n.n(rn),cn=n(131),ln=n(71),sn=n.n(ln),un=n(316),dn=n(290),mn=n(132),pn=n.n(mn),gn=function(e){var t=function(t,n){"clickaway"!==n&&e.setOpen(!1)};return u.a.createElement(un.a,{anchorOrigin:{vertical:e.vertical,horizontal:e.horizontal},open:e.open,autoHideDuration:e.autoHideDuration||null,onClose:t,ContentProps:{"aria-describedby":"message-id"},message:u.a.createElement("span",{id:"message-id"},e.message),action:[u.a.createElement(dn.a,{color:"inherit",key:"close","aria-label":"Close",onClick:e.handleClose||t},u.a.createElement(pn.a,null))]})},fn=n(318),hn=(n(120),Object(qt.a)((function(e){return{logo:{},button:{height:"50%",display:"block",marginLeft:"auto",marginRight:"auto",position:"relative",top:"15%"},outer:{display:"flex",justifyContent:"center",alignItems:"center"},inner:{position:"relative",marginTop:"15%",width:"100%"}}}))((function(e){var t=e.classes,n=Object(s.useState)(!1),a=Object(jt.a)(n,2),r=a[0],o=a[1],c=Object(s.useState)("dormant"),i=Object(jt.a)(c,2),l=i[0],d=i[1],m=Object(s.useState)(null),p=Object(jt.a)(m,2),g=p[0],f=p[1];if(e.network.uuid&&e.network.uuid.length>0&&e.cyrest.available){var h=e.cyrest.isLoadingNetwork,E=e.cyrest.lastResponse,b=0;if(console.log("cycleId: "+b),console.log("state: "+l),"dormant"===l&&h&&(f("Opening network in Cytoscape Desktop . . ."),d("openLoading"),r||o(!0)),"openLoading"!==l&&"closeLoading"!==l||null==E||(d("openResult"),"IMPORT_NETWORK_SUCCEEDED"===E.type?f("Network opened in Cytoscape Desktop!"):f("Network failed to open in Cytoscape Desktop"),r||o(!0)),"openResult"!==l||r||o(!0),"openResult"===l&&r){var y=b;setTimeout((function(){"openResult"===l&&y===b&&(d("dormant"),b++,o(!1))}),6e3)}return u.a.createElement(u.a.Fragment,null,u.a.createElement(fn.a,{title:"Open in cytoscape",placement:"bottom"},u.a.createElement(dn.a,{className:t.button,"aria-haspopup":"true",color:"default",onClick:function(){e.handleImportNetwork()}},u.a.createElement("img",{alt:"Cytoscape logo",src:sn.a,className:t.logo}),u.a.createElement($t.a,{variant:"subtitle2",color:"textSecondary"},"Network is too big for interactive view. ",u.a.createElement("br",null),"Click to open in Cytoscape Desktop."))),u.a.createElement(gn,{open:r,setOpen:o,message:g,setMessage:f,autoHideDuration:null,horizontal:"right",vertical:"bottom",handleClose:function(e,t){console.log("click"),"openLoading"===l?(console.log("openLoading to closeLoading"),d("closeLoading")):"openResult"===l&&(console.log("openResult to dormant"),d("dormant"),b++),o(!1),console.log("open: "+r)}}))}return u.a.createElement("div",{className:t.outer},u.a.createElement("div",{className:t.inner},u.a.createElement($t.a,{variant:"subtitle2",color:"textSecondary",align:"center"},"Network is too big for interactive view. ",u.a.createElement("br",null),"Please open Cytoscape Desktop to view.")))}))),En={name:"concentric",padding:6,minNodeSpacing:100,animate:!1},bn={name:"cose",padding:6,nodeRepulsion:function(e){return 1008e4},nodeOverlap:4e5,idealEdgeLength:function(e){return 10},animate:!1,fit:!1},yn=n(47);an.a.use(on.a);var vn=null,On=new cn.CxToCyCanvas(tn.CxToJs),Sn=new tn.CyNetworkUtils,wn=function(e){var t,n,a=e.uiState,r=a.highlights,o=a.fit,c=e.network.originalCX,i=e.network.network,l=Object(s.useState)(i?Object(yn.cloneDeep)(i.elements):null),d=Object(jt.a)(l,2),m=d[0],p=(d[1],{name:"preset",padding:6,animate:!1,positions:function(e){var t=e[0]._private.data.id;return m.filter((function(e){return e.data.id.toString()===t.toString()}))[0].position}}),g=Object(s.useState)(p),f=Object(jt.a)(g,2),h=f[0],E=f[1],b=e.network.backgroundColor;null!==b&&void 0!==b||(b="#FFFFFF");if(Object(s.useEffect)((function(){if(void 0!==vn&&null!==vn){vn.on("tap",(function(t){try{t.target===vn&&(e.networkActions.unselectEdges(),e.networkActions.unselectNodes())}catch(n){console.warn(n)}}));var a=function(){setTimeout((function(){var t=[];vn.$("edge:selected").forEach((function(e){t.push(e.data())})),0===t.length?e.networkActions.unselectEdges():e.networkActions.selectEdges(t)}),1)},r=function(){setTimeout((function(){var t=[];vn.$("node:selected").forEach((function(e){""!==e.data().name&&t.push(e.data())})),0===t.length?e.networkActions.unselectNodes():e.networkActions.selectNodes(t)}),1)};if(vn.on("tap","node",(function(){try{vn.nodes().removeClass("connected")}catch(e){console.warn(e)}r()})),vn.on("tap","edge",(function(){try{vn.nodes().removeClass("connected");var e=this.data(),t=e.source,n=e.target;vn.$("#"+t+", #"+n).addClass("connected")}catch(r){console.warn(r)}a()})),vn.on("boxend",(function(e){a(),r()})),vn.elements().addClass("faded"),vn.filter('node[querynode = "true"]').addClass("highlight"),null!=i)i.isLayout?(t=["Preset","Cose","Concentric"],n="Preset",E(p)):(t=["Cose","Concentric"],i.elements.length<500?(n="Cose",E(bn)):(n="Concentric",E(En)));return new Promise((function(e,t){!function(){if("preset"===h.name&&c){var e=c.filter((function(e){return void 0!==e.networkAttributes}));if(void 0!==e){var t=e[0];if(void 0!==t&&void 0!=t.networkAttributes){var n=t.networkAttributes.filter((function(e){return"__Annotations"===e.n}));if(0!==n.length&&vn){var a=Sn.rawCXtoNiceCX(c);console.log("* Registering annotation renderer for this niceCX:",n),On.drawAnnotationsFromNiceCX(vn,a),On.drawBackground(vn,b)}}}}}(),e()})).then((function(){e.uiStateActions.update({highlights:!0,layouts:t,layout:n})})),function(){console.log("Network viewer unmounted")}}}),[]),Object(s.useEffect)((function(){})),Object(s.useEffect)((function(){if(void 0!==vn&&null!==vn){var t=e.search.selectedGenes;if(null!==t&&void 0!==t){var n=vn.elements('node[name = "'+t[0]+'"]');0!==n.length&&vn.animate({zoom:2,center:{eles:n[0]}},{duration:500}),0===t.length&&vn.animate({fit:{eles:vn.elements(),padding:6}},{duration:500})}}}),[e.search.selectedGenes]),Object(s.useEffect)((function(){void 0!==vn&&null!==vn&&o&&(vn.animate({fit:{eles:vn.elements(),padding:6}},{duration:500}),e.uiStateActions.fitNetworkView(!1))}),[o]),Object(s.useEffect)((function(){switch(e.uiState.layout){case"Preset":E(p);break;case"Cose":E(bn);break;case"Concentric":E(En)}}),[e.uiState.layout]),null===i||void 0===i)return null;null!==vn&&(vn.resize(),h!==bn&&h!==En||(h.stop=function(){setTimeout((function(){vn.animate({fit:{eles:vn.elements(),padding:6}},{duration:0})}),0)}),r?(vn.elements().addClass("faded"),vn.filter('node[querynode = "true"]').addClass("highlight")):vn.elements().removeClass("faded").removeClass("highlight"));return u.a.createElement(en.a,{elements:i.elements,layout:h,style:{width:"100%",height:"100%",background:"rgba(0,0,0,0)"},stylesheet:i.style,cy:function(e){vn=e}})},Cn=(n(202),n(292)),kn=function(e){return u.a.createElement("div",{className:"loading-container",style:{backgroundColor:e.color}},u.a.createElement($t.a,{className:"loading-title",variant:"h5",color:"primary"},e.title),u.a.createElement($t.a,{className:"loading-message",variant:"subtitle1",color:"initial"},e.message),u.a.createElement(Cn.a,{size:100}))},jn=function(e){return e.network.isFetching?u.a.createElement("div",{className:"network-view"},u.a.createElement(kn,{title:"Loading Network...",color:"#FFFFFF"})):0===e.search.actualResults.length?u.a.createElement("div",{className:"network-view"}):e.network.nodeCount+e.network.edgeCount>5e3?u.a.createElement("div",{className:"network-view"},u.a.createElement(hn,e)):u.a.createElement("div",{className:"network-view"},u.a.createElement(wn,Object.assign({resized:e.resized},e)))},Nn=n(248),An=function(e,t){for(var n=e.length,a=null;n--;){var r=e[n];if(r[t]){a=r[t];break}}return a},xn=n(293),Tn=function(e){if("http"===e.slice(0,4)||"Prov:"===e.slice(0,5))return e;var t=e.replace(/([a-z])([A-Z][a-z])/g,"$1 $2").replace(/([A-Z][a-z])([A-Z])/g,"$1 $2").replace(/([a-z])([A-Z]+[a-z])/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-z][a-z])/g,"$1 $2").replace(/([a-z]+)([A-Z]+)/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-rt-z][a-z]*)/g,"$1 $2").replace(/([0-9])([A-Z][a-z]+)/g,"$1 $2").replace(/([0-9]{2,})([A-Z]{2,})/g,"$1 $2").trim();return t=(t=t.charAt(0).toUpperCase()+t.slice(1)).replace("Wiki Pathways","WikiPathways").replace("Wikipathways","WikiPathways").replace("Sbo ","SBO ").replace("Ncipid","NCI PID").replace("Cptac","CPTAC").replace("Hpmi","HPMI").replace("Ccmi","CCMI").replace("Tcga","TCGA").replace("Querynode","Query Node")},Pn=function(e){return e.toString().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script\ *>/gi,"")},Rn=n(72),Dn=n.n(Rn),Ln=n(73),In=n.n(Ln),Fn=n(294),_n=n(97),Gn=n.n(_n),Un=n(98),Bn=n.n(Un);function Hn(e){var t,n=u.a.useState(e.defaultExpanded),a=Object(jt.a)(n,2),r=a[0],o=a[1];return t=e.divider?{borderTop:"1px solid #EFEFEF"}:{},u.a.createElement(u.a.Fragment,null,u.a.createElement(Lt.a,{button:!0,onClick:function(){o(!r)},key:Math.random(),style:t},u.a.createElement(xn.a,{primary:e.summary}),r?u.a.createElement(Gn.a,null):u.a.createElement(Bn.a,null)),u.a.createElement(Fn.a,{in:r,timeout:"auto",unmountOnExit:!0},u.a.createElement(Dt.a,{component:"div",disablePadding:!0},u.a.createElement(Lt.a,null,u.a.createElement(xn.a,{primary:e.details})))))}var Mn=0,Kn=Object(Nn.a)((function(e){return{container:{padding:"0.2em",backgroundColor:"#FFFFFF",overflow:"auto",height:"100%",boxSizing:"content-box"},padding:{paddingLeft:"1em",paddingTop:"0.75em"},lessPadding:{paddingTop:"2.49px"},noPadding:{paddingTop:"0",paddingBottom:"0"}}})),Xn=function(e){var t=e.v;return Array.isArray(e.v)&&(t=e.v.join(", ")),Pn(t.trim())},Wn=function(e){var t;return t=null!=e.n?e.n.charAt(0).toUpperCase()+e.n.slice(1):"",Pn(t.trim())},qn=function(e){if(""===e)return e;var t=e.replace(/<\/?p\/?>/gi,"<br>").replace(/(<\/?br\/?>)+/gi,"<br>").replace(/(\n)+/gi,"\n").replace(/<a\s+href=/gi,'<a target="_blank" href=').trim();return t.startsWith("<br>")&&(t=t.slice(4,t.length-1)),t.endsWith("<br>")&&(t=t.slice(0,t.length-4)),t=t.charAt(0).toUpperCase()+t.slice(1),t=In()(t),u.a.createElement(Dn.a,{key:Math.random().toString()},t)},zn=function(e){var t=[];for(var n in e)t.push(u.a.createElement("tr",{key:Math.random().toString()},u.a.createElement("td",{valign:"top"},u.a.createElement($t.a,{variant:"body2"},n)),u.a.createElement("td",{valign:"top"},u.a.createElement($t.a,{variant:"body2"},e[n]))));return u.a.createElement("table",null,u.a.createElement("tbody",null,t))},Vn=function(e){Mn=0;var t=e.network.originalCX,n=e.context,a=Kn(),r=An(t,"networkAttributes");if(null!==r){var o,c,i=["Name","Description","Methods","Reference","@context"],l=["Organism","Cell","Disease"],s=["Author","Reviewers","Rights Holder","Rights"],d=["WikiPathways ID","WikiPathways Version","WikiPathways IRI"],m=["GO Hierarchy","GO ID"],p=["Version","Network Type","Labels"],g=[l,s,d,m,p],f=[];r.forEach((function(t){if(o=Xn(t),(c=Wn(t)).startsWith("__")||null==o||""===o)"Name"===c&&f.push({title:c,content:"Untitled",displayed:!1});else if("Description"!==c||"interactome-ppi"!==e.uiState.selectedSource&&"interactome-association"!==e.uiState.selectedSource)if("Organism"===c){var n=o.toLowerCase().indexOf("Homo sapiens".toLowerCase());-1!=n&&(o=o.substring(0,n)+"<em>Homo sapiens</em>"+o.substring(n+"Homo sapiens".length)),f.push({title:"Organism",content:o,displayed:!1})}else if("GO hierarchy"===c)f.push({title:"GO Hierarchy",content:o,displayed:!1});else if("GO ID"===c){var a=o.split(":")[1];void 0!=a?f.push({title:"GO ID",content:'<a href="http://identifiers.org/GO:'+a+'">'+o+"</a>",displayed:!1}):f.push({title:"GO ID",content:o,displayed:!1})}else"@context"!==c&&f.push({title:Tn(c),content:o,displayed:!1});else{var r="Description of parent network";i.splice(1,0,r),f.push({title:r,content:o,displayed:!1})}}));var h=[];g.forEach((function(e){var t,n,r="";switch(e.forEach((function(e){null!=(t=f.filter((function(t){return t.title===e}))[0])&&(r+=t.title+": "+t.content+"<br>",t.displayed=!0)})),e){case l:n="Properties";break;case s:n="Contributors";break;case d:n="WikiPathways";break;case m:n="Gene Ontology";break;case p:n="Network Information"}""!==(r=qn(r))&&h.push(u.a.createElement(Lt.a,{key:Mn++,className:a.noPadding},u.a.createElement(xn.a,{primary:u.a.createElement(u.a.Fragment,null,u.a.createElement($t.a,{variant:"caption",color:"textSecondary"},n),u.a.createElement("div",null,u.a.createElement($t.a,{variant:"body2"},r)))})))}));var E,b,y,v=[];i.forEach((function(e){null!=(E=f.filter((function(t){return t.title===e}))[0])&&(b=qn(E.content),y=e,E.displayed=!0,v.push(u.a.createElement(Lt.a,{key:Mn++,className:a.noPadding},u.a.createElement(xn.a,{primary:u.a.createElement(u.a.Fragment,null,u.a.createElement($t.a,{component:"span",variant:"caption",color:"textSecondary"},y),u.a.createElement("div",null,u.a.createElement($t.a,{component:"span",variant:"body2"},b)))}))))})),b=zn(n);var O=u.a.createElement($t.a,{component:"span",variant:"body2"},"Click to view the namespaces associated with this network"),S=b;return v.push(u.a.createElement(u.a.Fragment,{key:Mn},u.a.createElement("div",{className:a.padding},u.a.createElement($t.a,{component:"span",variant:"caption",color:"textSecondary"},"@context")),u.a.createElement(Hn,{summary:O,details:S,defaultExpanded:!1,keyId:Mn++,divider:!1}))),f.forEach((function(e){e.displayed||(b=qn(e.content),y=e.title,e.displayed=!0,v.push(u.a.createElement(Lt.a,{key:Mn++,className:a.noPadding},u.a.createElement(xn.a,{primary:u.a.createElement(u.a.Fragment,null,u.a.createElement($t.a,{component:"span",variant:"caption",color:"textSecondary"},y),u.a.createElement("div",null,u.a.createElement($t.a,{component:"span",variant:"body2"},b)))}))))})),u.a.createElement(Jt.a,{sizes:[70,30],gutterSize:7,className:"network-info"},u.a.createElement("div",{className:"network-info-panel"},u.a.createElement(Dt.a,{className:a.lessPadding},v)),u.a.createElement("div",{className:"network-info-panel"},u.a.createElement(Dt.a,{className:a.lessPadding},h)))}},Yn=n(7),$n=n(32),Qn=n(33),Jn=n(35),Zn=n(34),ea=n(36),ta=n(295),na=n(134),aa=n.n(na),ra=(n(220),"https://www.genecards.org/cgi-bin/carddisp.pl?gene="),oa=function(e){function t(){var e,n;Object($n.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Jn.a)(this,(e=Object(Zn.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleClick=function(e){var t="pw_"+e,a=n.state[t];void 0===a||null==a?n.setState((function(e){return Object(Yn.a)({},t,!0)})):n.setState((function(e){return Object(Yn.a)({},t,!a)}))},n.getListItem=function(e,t){if(null===e||void 0===e)return null;var a=e.summary;return u.a.createElement(Lt.a,{alignItems:"flex-start",key:e._id,onClick:function(t){return n.handleClick(e._id)},disableGutters:!0,style:{padding:"0"}},u.a.createElement(ta.a,null,u.a.createElement(xt.a,{className:t.matched},u.a.createElement(Rt.a,null))),u.a.createElement(xn.a,{primary:u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",{style:{marginLeft:"-1"}},u.a.createElement("td",{style:{padding:"0"}},u.a.createElement("div",null,u.a.createElement($t.a,{component:"span",variant:"body2"},e.symbol)),u.a.createElement("div",null,u.a.createElement($t.a,{component:"span",className:t.inline,variant:"caption",color:"textSecondary"},Tn(e.name))),u.a.createElement("div",null,u.a.createElement($t.a,{variant:"body2",color:"textPrimary"},a))),u.a.createElement("td",null,u.a.createElement(fn.a,{title:"Open in GeneCards",placement:"bottom"},u.a.createElement(dn.a,{"aria-label":"Link to GeneCards",href:ra+e.symbol,target:"_blank"},u.a.createElement(aa.a,null)))))))}))},n}return Object(ea.a)(t,e),Object(Qn.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.search_results;if(!t)return u.a.createElement("div",{className:"gene-list-wrapper"});var n=t.genes;if(!n)return u.a.createElement("div",{className:"gene-list-wrapper"});var a=this.props.geneSymbol,r=this.getListItem(n.get(a),e);return null==r?this.getListItem(n.get(a.toLowerCase()),e):r}}]),t}(u.a.Component),ca=Object(qt.a)((function(e){return{inline:{display:"inline"},title:{marginLeft:"0.5em",marginTop:"0.3em"},description:{marginLeft:"1em",marginTop:"0.3em"},matched:{backgroundColor:"#C51162"},unmatched:{backgroundColor:"red"},linkIcon:{paddingLeft:"1em"},nested:{paddingLeft:e.spacing(4)}}}))(oa),ia=Object(Nn.a)((function(e){return{noPadding:{paddingTop:"0",paddingBottom:"0"},center:{justifyContent:"center",alignItems:"center",display:"flex",width:"100%"},wideList:{marginTop:"0",width:"100%",padding:"0"},table:{width:"100%",tableLayout:"fixed"},matched:{marginLeft:"0.5em",backgroundColor:"#C51162",height:"1em",width:"1em"},icon:{height:"0.5em",weidth:"0.5em"}}})),la=0,sa=function(e){return null==e?"":Pn(e)},ua=function(e){return null==e?"":Pn(e)},da=function(e){if(""===e)return e;var t=e.replace(/<\/?p\/?>/gi,"<br>").replace(/(<\/?br\/?>)+/gi,"<br>").replace(/(\n)+/gi,"\n").replace(/<a\s+href=/gi,'<a target="_blank" href=').trim();return t.startsWith("<br>")&&(t=t.slice(4,t.length-1)),t.endsWith("<br>")&&(t=t.slice(0,t.length-4)),t=In()(t),u.a.createElement(Dn.a,{key:"link"+la++},t)},ma=u.a.memo((function(e){var t,n=ia();t=0===e.network.selectedNodes.length?e.network.network.elements.filter((function(e){return"e"!==e.data.id[0]})).map((function(e){return e.data})).filter((function(e){return null!=e.name&&""!==e.name})):e.network.selectedNodes;var a=e.context,r=e.listProperties,o=Object(s.useState)(!0),c=Object(jt.a)(o,2),i=c[0],l=c[1],d=["Name","Type","Location","ID","HGNC","Ensembl","Alias","Members","Member"],m=["Height","Width","Shape","Is GPML Shape","Color","Fill Color","Transparent","Border Thickness","Border Style","Label Size","Label Font","Node Id","Query Node"],p=[d,m];t.sort((function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()?1:-1}));var g=[];return t.forEach((function(t){var o,c,l=[],s=null,f=!1,h=!1,E={};for(var b in r){var y=r[b][t.name];E[b]=new Set(y)}if(t.name in e.represents){var v=e.represents[t.name].split(":"),O=Object(jt.a)(v,2),S=O[0],w=O[1];null!=w&&/[^\s]/.test(w)&&S.toUpperCase()in a?l.push({title:"ID",content:'<a href="'+a[S.toUpperCase()]+w+'">'+e.represents[t.name]+"</a>",displayed:!1}):l.push({title:"ID",content:e.represents[t.name],displayed:!1})}for(var C in t)if(o=sa(t[C]),"querynode"===(c=ua(C))&&(h=!0),!c.startsWith("__")&&null!=o&&"null"!==o&&""!==o)if(c in E)E[c].add(o);else if("id"===c)l.push({title:"Node Id",content:o,displayed:!1});else if(c.toUpperCase()in a)l.push({title:Tn(c),content:'<a href="'+a[c.toUpperCase()]+"/"+o+'">'+o+"</a>",displayed:!1});else if("query"!==c){var k=o.split(":"),j=Object(jt.a)(k,2),N=j[0],A=j[1];N.toUpperCase()in a&&null!=A&&/[^\s]/.test(A)?l.push({title:Tn(c),content:'<a href="'+a[N.toUpperCase()]+A+'">'+o+"</a>",displayed:!1}):"hgnc.symbol"===N?l.push({title:Tn(c),content:'<a href="http://identifiers.org/hgnc/'+A+'">'+o+"</a>",displayed:!1}):l.push({title:Tn(c),content:o,displayed:!1})}for(var x in E){var T=E[x],P="";T.forEach((function(e){var t=e.split(":"),n=Object(jt.a)(t,2),r=n[0],o=n[1];r.toUpperCase()in a&&null!=o&&/[^\s]/.test(o)?P+='<a href="'+a[r.toUpperCase()]+o+'">\t'+e+"</a><br/>":null!=o&&/[^\s]/.test(o)?P+='<a href="http://identifiers.org/'+r+"/"+o+'">\t</a><br/>':P+=e+"<br/>"})),T.size>1?l.push({title:Tn(x),content:'<div style="padding-left:1em;">'+P+"</div>",displayed:!1}):1===T.size&&l.push({title:Tn(x),content:P,displayed:!1})}null==e.search.results||null==e.search.results.genes.get(t.name)&&null==e.search.results.genes.get(t.name.toLowerCase())||(f=!0,s=u.a.createElement(Dt.a,{className:n.noPadding},u.a.createElement(ca,Object.assign({},e,{search_results:e.search.results,geneSymbol:t.name}))));var R,D,L=[],I=[];p.forEach((function(e){var t;if(R="",e.forEach((function(e){null!=(t=l.filter((function(t){return t.title===e}))[0])&&null!=t.content&&(R+=t.title+": "+t.content+"<br>",t.displayed=!0)})),""!==(R=da(R)))switch(e){case d:D="Entity Properties",L.push(u.a.createElement(Lt.a,{key:la++,className:n.noPadding,disableGutters:!0},u.a.createElement(xn.a,{inset:f,primary:u.a.createElement(u.a.Fragment,null,u.a.createElement($t.a,{variant:"caption",color:"textSecondary"},D),u.a.createElement("div",null,u.a.createElement($t.a,{variant:"body2",component:"div"},R)))})));break;case m:D="Node Properties",I.push(u.a.createElement(Lt.a,{key:la++,className:n.noPadding,disableGutters:!0},u.a.createElement(xn.a,{primary:u.a.createElement(u.a.Fragment,null,u.a.createElement($t.a,{variant:"caption",color:"textSecondary"},D),u.a.createElement("div",null,u.a.createElement($t.a,{variant:"body2"},R)))})))}})),R="",l.forEach((function(e){e.displayed||(R+=e.title+": "+e.content+"<br>",e.displayed=!0)})),R=da(R),D="Additional properties",""!==R&&L.push(u.a.createElement(Lt.a,{key:la++,className:n.noPadding,disableGutters:!0},u.a.createElement(xn.a,{inset:f,primary:u.a.createElement(u.a.Fragment,null,u.a.createElement($t.a,{variant:"caption",color:"textSecondary"},D),u.a.createElement("div",null,u.a.createElement($t.a,{variant:"body2"},R)))})));var F=u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement($t.a,{variant:"body2"},t.name)),h?u.a.createElement("td",null,u.a.createElement(xt.a,{className:n.matched},u.a.createElement(Rt.a,{className:n.icon}))):null))),_=u.a.createElement("table",{className:n.table},u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",{colSpan:"2",valign:"top"},s)),u.a.createElement("tr",null,u.a.createElement("td",{valign:"top"},L),u.a.createElement("td",{valign:"top"},I))));g.push(u.a.createElement(Hn,{summary:F,details:_,defaultExpanded:i,key:t.id+la++,divider:!0}))})),0===g.length?u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:n.center},u.a.createElement($t.a,{color:"textSecondary",variant:"subtitle1"},"No nodes to display"))):1===g.length?(i||l(!0),u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:"inner-rectangle"},u.a.createElement(Dt.a,{className:n.noPadding},g)))):(i&&l(!1),u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:"inner-rectangle"},u.a.createElement("div",null,u.a.createElement(Dt.a,{className:n.noPadding},g)))))}),(function(e,t){return Object(yn.isEqual)(e.network.selectedNodes,t.network.selectedNodes)})),pa=0,ga=Object(Nn.a)((function(e){return{noPadding:{paddingTop:"0",paddingBottom:"0"},center:{justifyContent:"center",alignItems:"center",display:"flex",width:"100%"},wideList:{marginTop:"0",width:"100%",padding:"0"},table:{width:"100%",tableLayout:"fixed"},matched:{backgroundColor:"#C51162",height:"1em",width:"1em"},icon:{height:"0.5em",weidth:"0.5em"}}})),fa=function(e){return null==e?"":Pn(e)},ha=function(e){return null==e?"":Pn(e)},Ea=function(e){if(""===e)return e;var t=e.replace(/<\/?p\/?>/gi,"<br>").replace(/(<\/?br\/?>)+/gi,"<br>").replace(/(\n)+/gi,"\n").replace(/<a\s+href=/gi,'<a target="_blank" href=').trim();return t.startsWith("<br>")&&(t=t.slice(4,t.length-1)),t.endsWith("<br>")&&(t=t.slice(0,t.length-4)),t=In()(Tn(t)),u.a.createElement(Dn.a,{key:"link:"+pa++},t)},ba=function(e,t){if(isNaN(e)||""===e)return e;var n=t.filter((function(t){return t["@id"].toString()===e.toString()}))[0];return null!=n?n.n:""},ya=u.a.memo((function(e){var t,n=ga();t=0===e.network.selectedEdges.length?e.network.network.elements.filter((function(e){return"e"===e.data.id[0]})).map((function(e){return e.data})):e.network.selectedEdges;var a=e.nodeList,r=e.context,o=e.listProperties,c=Object(s.useState)(!0),i=Object(jt.a)(c,2),l=i[0],d=i[1],m=["Source","Target","Type","SBO Type","Interaction","Mechanism","Throughput","Location","Score","Citation","Sentence","Publication 1st Author","Annotator","Interaction Detection Methods","Presence In Other Species","Source Databases","Experimental System","Experimental System Type","Modification","Phenotypes","Qualifications"],p=["Start Arrow","End Arrow","Connector Type","Line Thickness","Line Style","Color","Directed","Edge Id"],g=[m,p];t.sort((function(e,t){var n=0,r=0,o=ba(e.source,a),c=ba(e.target,a),i=ba(t.source,a),l=ba(t.target,a);return""!==o&&n++,""!==c&&n++,""!==i&&r++,""!==l&&r++,r-n!==0?r-n:""===o?1:""===i?-1:o.toUpperCase()>i.toUpperCase()?1:o.toUpperCase()<i.toUpperCase()?-1:c.toUpperCase()>l.toUpperCase()?1:-1}));var f=[];return t.forEach((function(t){var c,i,s,d,h=[],E=t.id.slice(1),b={};for(var y in o){var v=o[y][E];b[y]=new Set(v)}for(var O in t)if(c=fa(t[O]),!(i=ha(O)).startsWith("__")&&null!=c&&"null"!==c&&""!==c)if(i in b)b[i].add(c);else if("source"===i)s=ba(c,a),h.push({title:"Source",content:s,displayed:!1});else if("target"===i)d=ba(c,a),h.push({title:"Target",content:d,displayed:!1});else if("id"===i)h.push({title:"Edge Id",content:E,displayed:!1});else if("sboType"===i){var S=c.split(":")[1];h.push({title:"SBO Type",content:'<a href="http://identifiers.org/SBO:'+S+'">'+c+"</a>"})}else{var w=c.split(":"),C=Object(jt.a)(w,2),k=C[0],j=C[1];k.toUpperCase()in r&&null!=j&&/[^\s]/.test(j)?h.push({title:Tn(i),content:'<a href="'+r[k.toUpperCase()]+j+'">'+c+"</a>",displayed:!1}):h.push({title:Tn(i),content:c,displayed:!1})}for(var N in b){var A=b[N],x="";A.forEach((function(e){var t=e.split(":"),n=Object(jt.a)(t,2),a=n[0],o=n[1];a.toUpperCase()in r&&null!=o&&/[^\s]/.test(o)?x+='<a href="'+r[a.toUpperCase()]+o+'">'+e+"</a><br/>":x+=e+"<br/>"})),A.size>1?h.push({title:Tn(N),content:'<div style="padding-left:1em;">'+x+"</div>",displayed:!1,noBreak:!0}):1===A.size&&h.push({title:Tn(N),content:x,displayed:!1})}var T,P,R=[],D=[];g.forEach((function(e){var t;if(T="",e.forEach((function(e){null!=(t=h.filter((function(t){return t.title===e}))[0])&&null!=t.content&&(T+=t.title+": "+t.content+(t.noBreak?"":"<br>"),t.displayed=!0)})),""!==(T=Ea(T)))switch(e){case m:P="Entity Properties",R.push(u.a.createElement(Lt.a,{key:Math.random(),className:n.noPadding},u.a.createElement(xn.a,{inset:!1,primary:u.a.createElement(u.a.Fragment,null,u.a.createElement($t.a,{component:"span",variant:"caption",color:"textSecondary"},P),u.a.createElement("div",null,u.a.createElement($t.a,{component:"span",variant:"body2"},T)))})));break;case p:P="Edge Properties",D.push(u.a.createElement(Lt.a,{key:Math.random(),className:n.listPadding,disableGutters:!0},u.a.createElement(xn.a,{primary:u.a.createElement(u.a.Fragment,null,u.a.createElement($t.a,{variant:"caption",color:"textSecondary"},P),u.a.createElement("div",null,u.a.createElement($t.a,{variant:"body2"},T)))})))}})),T="",h.forEach((function(e){e.displayed||(T+=e.title+": "+e.content+(e.noBreak?"":"<br/>"),e.displayed=!0)})),T=Ea(T),P="Additional properties",""!==T&&R.push(u.a.createElement(Lt.a,{key:pa++,className:n.noPadding},u.a.createElement(xn.a,{inset:!1,primary:u.a.createElement(u.a.Fragment,null,u.a.createElement($t.a,{component:"span",variant:"caption",color:"textSecondary"},P),u.a.createElement("div",null,u.a.createElement($t.a,{component:"span",variant:"body2"},T)))})));var L=u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement($t.a,{variant:"body2"},s)),e.search.queryList.includes(s.toUpperCase())?u.a.createElement("td",null,u.a.createElement(xt.a,{className:n.matched},u.a.createElement(Rt.a,{className:n.icon}))):null,u.a.createElement("td",null,u.a.createElement($t.a,{variant:"body2"}," \u279d ")),u.a.createElement("td",null,u.a.createElement($t.a,{variant:"body2"},d)),e.search.queryList.includes(d.toUpperCase())?u.a.createElement("td",null,u.a.createElement(xt.a,{className:n.matched},u.a.createElement(Rt.a,{className:n.icon}))):null))),I=u.a.createElement("table",{className:n.table},u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",{valign:"top"},R),u.a.createElement("td",{valign:"top"},D))));f.push(u.a.createElement(Hn,{summary:L,details:I,defaultExpanded:l,key:pa++,divider:!0}))})),0===f.length?u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:n.center},u.a.createElement($t.a,{variant:"body2",color:"textSecondary"},"No edges to display"))):1===f.length?(l||d(!0),u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:"inner-rectangle"},u.a.createElement(Dt.a,{className:n.noPadding},f)))):(l&&d(!1),u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:"inner-rectangle"},u.a.createElement("div",null,u.a.createElement(Dt.a,{className:n.noPadding},f)))))}),(function(e,t){return Object(yn.isEqual)(e.network.selectedEdges,t.network.selectedEdges)})),va=Object(Nn.a)((function(e){return{container:{padding:"0.2em",backgroundColor:"#FFFFFF",overflow:"auto"},list:{},subtitle:{marginLeft:"1em",marginTop:"0.5em"},root:{minHeight:0}}})),Oa=function(e){var t,n=e.value;if(null!=(t=An(e.network.originalCX,"@context")))t=t[0];else{var a=An(e.network.originalCX,"networkAttributes");if(null!=a)for(var r=0;r<a.length;r++)"@context"===a[r].n&&(t=JSON.parse(a[r].v))}for(var o,c,i,l=Object(yn.mapKeys)(t,(function(e,t){return t.toUpperCase()})),s=0;s<e.network.originalCX.length&&(null==e.network.originalCX[s].nodes||(o=e.network.originalCX[s].nodes,void 0==c||void 0==i))&&(null==e.network.originalCX[s].nodeAttributes||(c=e.network.originalCX[s].nodeAttributes,void 0==o||void 0==i))&&(null==e.network.originalCX[s].edgeAttributes||(i=e.network.originalCX[s].edgeAttributes,void 0==o||void 0==c));s++);var d={},m={};if(null!=o){for(var p=0;p<o.length;p++)null!=o[p].r&&(d[o[p].n]=o[p].r);if(null!=c)for(var g=function(e){if("list_of_string"===c[e].d){var t={};null!=m[c[e].n]&&(t=m[c[e].n]);var n=o.filter((function(t){return t["@id"]===c[e].po}))[0].n;null!=n&&(null==t[n]?t[n]=c[e].v:t[n]=t[n].concat(c[e].v)),m[c[e].n]=t}},f=0;f<c.length;f++)g(f)}var h={};if(null!=i)for(var E=0;E<i.length;E++)if("list_of_string"===i[E].d){var b={};null!=h[i[E].n]&&(b=h[i[E].n]);var y=i[E].po;null==b[y]?b[y]=i[E].v:b[y]=b[y].concat(i[E].v),h[i[E].n]=b}return 0===n?u.a.createElement(Vn,Object.assign({context:t},e)):1===n?u.a.createElement(ma,Object.assign({context:l,represents:d,listProperties:m},e)):u.a.createElement(ya,Object.assign({context:l,nodeList:o,listProperties:h},e))},Sa={width:"100%"},wa=function(e){var t=va(),n=e.network.tableDisplayTab;if(null===e.network.originalCX)return u.a.createElement("div",{style:Sa});return u.a.createElement("div",{className:"table-browser-panel"},u.a.createElement(zt.a,{value:n,onChange:function(t,n){e.networkActions.changeTab(n)},className:t.root},u.a.createElement(Yt,{className:t.root,key:"network-tab",label:"Network",backgroundcolor:"rgb(220, 220, 220)"}),u.a.createElement(Yt,{className:t.root,key:"nodes-tab",label:"Nodes",backgroundcolor:"rgb(220, 220, 220)"}),u.a.createElement(Yt,{className:t.root,key:"edges-tab",label:"Edges",backgroundcolor:"rgb(220, 220, 220)"})),u.a.createElement(Oa,Object.assign({value:n},e)))},Ca={width:"100%"},ka=function(e){return null===e.network.originalCX||0===e.search.actualResults.length?u.a.createElement("div",{style:Ca}):u.a.createElement("div",{className:"table-browser"},u.a.createElement(wa,e))},ja=n(51),Na=n(296),Aa=n(135),xa=n.n(Aa),Ta=n(17),Pa=n.n(Ta),Ra=n(9),Da="http://dev.ndexbio.org/integratedsearch/v1/",La=function(e){return fetch("http://127.0.0.1:"+e+"/v1",{method:"GET"})},Ia=function(e,t){var n="http://127.0.0.1:"+e+"/cyndex2/v1/networks/cx";return console.log("Calling CyREST POST:",n),fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})},Fa=Pa.a.mark(Ba),_a=Pa.a.mark(Ha),Ga=Pa.a.mark(Ma);function Ua(e){return new Promise((function(t){setTimeout((function(){return t(!0)}),e)}))}function Ba(e){var t;return Pa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1;case 1:return e.prev=2,e.next=5,Object(Ra.b)(La,1234);case 5:if(!0===t){e.next=8;break}return e.next=8,Object(Ra.c)({type:rt,payload:!0});case 8:e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(2),!0!==t){e.next=15;break}return e.next=15,Object(Ra.c)({type:rt,payload:!1});case 15:return e.next=17,Object(Ra.b)(Ua,2e4);case 17:e.next=1;break;case 19:case"end":return e.stop()}}),Fa,null,[[2,10]])}function Ha(){return Pa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(Ra.f)(it);case 3:return e.sent,e.next=6,Object(Ra.d)([Object(Ra.b)(Ba),Object(Ra.f)(lt)]);case 6:e.next=0;break;case 8:case"end":return e.stop()}}),_a)}function Ma(){return Pa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ra.a)([Ha()]);case 2:case"end":return e.stop()}}),Ga)}var Ka=Object(qt.a)({root:{marginLeft:"0.5em",borderColor:"#EA9123","&:active":{borderColor:"#EA9123"},"&:hover":{backgroundColor:Object(ja.fade)("#EA9123",.08)}}})(Na.a),Xa=Object(qt.a)((function(e){return{buttonIcon:{height:"2em"},button:{height:"3em",width:"4.3em",minWidth:"4.3em"}}}))((function(e){Object(s.useEffect)((function(){return e.cyrestActions.startCyRestPolling(),function(){e.cyrestActions.stopCyRestPolling()}}),[]);var t=e.classes,n=!(e.network.uuid&&e.network.uuid.length>0)||!e.cyrest.available,a=e.cyrest.isLoadingNetwork,r=e.cyrest.lastResponse,o=Object(s.useState)(!1),c=Object(jt.a)(o,2),i=c[0],l=c[1],d=Object(s.useState)("dormant"),m=Object(jt.a)(d,2),p=m[0],g=m[1],f=Object(s.useState)(null),h=Object(jt.a)(f,2),E=h[0],b=h[1],y=0;if("dormant"===p&&a&&(b("Opening network in Cytoscape Desktop . . ."),g("openLoading"),i||l(!0)),"openLoading"!==p&&"closeLoading"!==p||null==r||(g("openResult"),"IMPORT_NETWORK_SUCCEEDED"===r.type?b("Network opened in Cytoscape Desktop!"):b("Network failed to open in Cytoscape Desktop"),i||l(!0)),"openResult"!==p||i||l(!0),"openResult"===p&&i){var v=y;setTimeout((function(){"openResult"===p&&v===y&&(g("dormant"),y++,l(!1))}),6e3)}return u.a.createElement(u.a.Fragment,null,u.a.createElement(fn.a,{disableFocusListener:!0,title:"Open this network in Cytoscape Desktop",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(Ka,{className:t.button,variant:"outlined",disabled:n,onClick:function(){e.handleImportNetwork()}},u.a.createElement("img",{alt:"Cytoscape logo",src:n?xa.a:sn.a,className:t.buttonIcon})))),u.a.createElement(gn,{open:i,setOpen:l,message:E,setMessage:b,autoHideDuration:null,horizontal:"right",vertical:"bottom",handleClose:function(e,t){console.log("click"),"openLoading"===p?g("closeLoading"):"openResult"===p&&(g("dormant"),y++),l(!1)}}))})),Wa=n(136),qa=n.n(Wa),za=n(137),Va=n.n(za),Ya=Object(qt.a)({root:{height:"3em",width:"4.3em",minWidth:"4.3em",marginLeft:"0.5em",borderColor:"#212121",color:"#212121","&:active":{borderColor:"#212121",color:"#212121"}}})(Na.a),$a=Object(qt.a)((function(e){return{buttonIcon:{height:"1.75em"}}}))((function(e){var t=e.classes,n=!(e.network.uuid&&e.network.uuid.length>0);return u.a.createElement(fn.a,{title:"Fit network to panel",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(Ya,{variant:"outlined",disabled:n,onClick:function(){e.uiStateActions.fitNetworkView(!0)}},u.a.createElement("img",{alt:"Zoom logo",src:n?Va.a:qa.a,className:t.buttonIcon}))))})),Qa=n(138),Ja=n.n(Qa),Za=Object(qt.a)((function(e){return{buttonIcon:{textAlign:"center",lignHeight:"50%",position:"relative",top:"1px"},button:{height:"3em",width:"4.3em",marginLeft:"0.5em"}}}))((function(e){var t=e.classes,n=!(e.network.uuid&&e.network.uuid.length>0),a=e.uiState.highlights;return u.a.createElement(fn.a,{title:"Highlight genes",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(Na.a,{className:t.button,variant:"outlined",color:a?"secondary":"default",onClick:function(t){e.network.uuid&&e.network.uuid.length>0&&(a=!a,e.uiStateActions.setHighlights(a))},disabled:n},u.a.createElement(Ja.a,{className:t.buttonIcon,color:a&&!n?"secondary":"disabled"}))))})),er=n(139),tr=n.n(er),nr=Object(qt.a)({root:{width:"4.3em",borderColor:"#212121",color:"#212121","&:active":{borderColor:"#212121",color:"#212121"}}})(Na.a),ar=Object(qt.a)((function(e){return{buttonIcon:{padding:0,margin:0,paddingBottom:"0.1em"},button:{height:"3em",width:"4.3em",minWidth:"4.3em",marginLeft:"0.5em"}}}))((function(e){var t=e.classes,n=!(e.network.uuid&&e.network.uuid.length>0);return u.a.createElement(fn.a,{title:"Save this network to your NDEx account",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(nr,{className:t.button,variant:"outlined",disabled:n,onClick:function(){e.ndexSaveActions.setNDExModalOpen(!0)}},u.a.createElement(tr.a,{color:n?"disabled":"inherit",fontSize:"large",className:t.buttonIcon}))))})),rr=n(140),or=n(99),cr=n.n(or),ir=n(297),lr=n(162),sr=n(299),ur=n(322),dr=n(303),mr=n(304),pr=n(305),gr=n(306),fr=n(141),hr=n.n(fr),Er=n(142),br=n.n(Er),yr=n(143),vr=n.n(yr),Or=n(298),Sr=(n(222),function(e){function t(e){var n;return Object($n.a)(this,t),(n=Object(Jn.a)(this,Object(Zn.a)(t).call(this,e))).saveToNDEx=function(e,t){n.props.ndexSaveActions.saveToNDEx({cx:e,token:t})},n.handleClose=function(){n.props.ndexSaveActions.setNDExModalOpen(!1)},n.state={networkUrl:""},n}return Object(ea.a)(t,e),Object(Qn.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.ndexSave,r=t.network;console.log(a);var o=a.profile?a.profile.authorization.token:null,c=r.originalCX,i=a.networkUrl;return a&&a.profile?u.a.createElement("div",{className:"ndex-save"},u.a.createElement(ir.a,null,"Now that you're logged in, you can save the network to your NDEx account"),u.a.createElement(Or.a,null,i?u.a.createElement(Na.a,{href:i,className:n.button,target:"_blank"},"OPEN IN NDEx"):u.a.createElement(Na.a,{onClick:function(){e.saveToNDEx(c,o)}},"Save to my account"))):null}}]),t}(u.a.Component)),wr=Object(qt.a)((function(e){return{button:{"text-transform":"none"}}}))(Sr),Cr=(n(223),{NDEX_USER_VALIDATION:"http://ndexbio.org/v2/user?valid=true",googleClientId:"802839698598-8rsr8va0bd0e6lmi0ghemtrvldk9rnla.apps.googleusercontent.com"}),kr=function(e){return u.a.createElement(cr.a,{cancel:'[class*="MuiDialogContent-root"]'},u.a.createElement(lr.a,e))},jr=function(e){function t(){var e,n;Object($n.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Jn.a)(this,(e=Object(Zn.a)(t)).call.apply(e,[this].concat(r)))).onFailure=function(e){var t=e.details&&e.details.startsWith("Not a valid origin for the client: http://localhost:")||e.error&&e.error||JSON.stringify(e);n.props.onError(t,!1)},n}return Object(ea.a)(t,e),Object(Qn.a)(t,[{key:"render",value:function(){var e=this.props,t=e.googleSSO,n=e.onSuccess,a=t?"google-sign-in-button":"google-sign-in-button googleButtonDisabled",r=t?"Sign in with your Google account":"Google Sign In is currently unavailable because the 'BLOCK THIRD-PARTY COOKIES' option is enabled in your web browser.To use the Google Sign In feature you can do one of two things:1. Add 'accounts.google.com' to the list of websites allowed to write / read THIRD - PARTY COOKIES, or2. Disable the 'BLOCK THIRD-PARTY COOKIES' option in your browser settings.",o=t?br.a:vr.a;return u.a.createElement("div",{className:"google-button"},u.a.createElement(hr.a,{clientId:Cr.googleClientId,render:function(e){return u.a.createElement(Na.a,{id:"googleSignInButtonId",disabled:!t,className:a,title:r,onClick:e.onClick},u.a.createElement("span",{className:"google-sign-in-button-span"},u.a.createElement("img",{src:o,alt:"",className:"googleLogo"}),u.a.createElement("div",{className:"googleSignInText"},"Sign in with Google")))},buttonText:"Login",onSuccess:n,onFailure:this.onFailure}))}}]),t}(u.a.Component),Nr=function(e){function t(){return Object($n.a)(this,t),Object(Jn.a)(this,Object(Zn.a)(t).apply(this,arguments))}return Object(ea.a)(t,e),Object(Qn.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.handleCredentialsSignOn,a=t?"btn btn-primary disabled":"btn btn-primary";return u.a.createElement("form",{name:"basicAuthSignIn",onSubmit:n},u.a.createElement(sr.a,{className:"form-control"},u.a.createElement(ur.a,{name:"accountName",type:"text",placeholder:"Account Name",required:!0,title:"",autoComplete:"username"})),u.a.createElement(sr.a,{className:"form-control"},u.a.createElement(ur.a,{name:"password",type:"password",placeholder:"Password",required:!0,title:"",autoComplete:"password"})),u.a.createElement("div",{className:"ndex-account-links"},u.a.createElement("div",null,u.a.createElement("span",null,"Need an account? "),u.a.createElement("a",{href:"http://ndexbio.org",target:"_blank",rel:"noopener noreferrer"},"Click here to sign up!"))),t&&u.a.createElement("div",{className:"text-danger"},u.a.createElement("br",null),u.a.createElement("strong",null,u.a.createElement("span",null,t))),u.a.createElement("div",{className:"credentials-button-container"},this.props.handleClose&&u.a.createElement(Na.a,{className:"btn btn-default",variant:"contained",onClick:this.props.handleClose,type:"button",style:{margin:"1em"}},"Cancel"),u.a.createElement(Na.a,{className:a,variant:"contained",color:"primary",type:"submit"},"Sign In")))}}]),t}(u.a.Component),Ar=function(e){function t(e){var n;return Object($n.a)(this,t),(n=Object(Jn.a)(this,Object(Zn.a)(t).call(this,e))).onError=function(e,t){n.props.handleError(e),n.setState({googleSSO:t})},n.state={googleSSO:!0},n}return Object(ea.a)(t,e),Object(Qn.a)(t,[{key:"render",value:function(){var e=this.state.googleSSO,t=this.props,n=t.handleClose,a=t.onLoginSuccess,r=t.onSuccess,o=t.handleCredentialsSignOn,c=t.handleError,i=t.error;return u.a.createElement("div",null,u.a.createElement(dr.a,{id:"form-dialog-title"},"Sign in to your NDEx Account"),u.a.createElement(mr.a,null,u.a.createElement(ir.a,null,u.a.createElement("div",{className:"NDExSignInContainer"},u.a.createElement(pr.a,{container:!0,spacing:8},u.a.createElement(pr.a,{item:!0,xs:6,className:"grid"},u.a.createElement(lr.a,{className:"grid-paper"},u.a.createElement("div",{className:"grid-content"},u.a.createElement(jr,{onError:this.onError,googleSSO:e,onLoginSuccess:a,onSuccess:r})))),u.a.createElement(pr.a,{item:!0,xs:6,className:"grid"},u.a.createElement(lr.a,{className:"grid-paper"},u.a.createElement("div",{className:"grid-content"},u.a.createElement(Nr,{onLoginSuccess:a,handleClose:n,handleCredentialsSignOn:o,handleError:c,error:i})))))))))}}]),t}(u.a.Component),xr=function(e){function t(){var e,n;Object($n.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Jn.a)(this,(e=Object(Zn.a)(t)).call.apply(e,[this].concat(r)))).onLoginSuccess=function(){},n.onLogout=function(){n.props.ndexSaveActions.setProfile(null)},n.handleClose=function(){n.props.ndexSaveActions.setNDExModalOpen(!1)},n.handleCredentialsSignOn=function(e){e.preventDefault(),n.props.ndexSaveActions.credentialsSignOn(e)},n.handleOnSuccess=function(e){n.props.ndexSaveActions.googleSignOn(e)},n.handleError=function(e){n.props.ndexSaveActions.setErrorMessage(e)},n}return Object(ea.a)(t,e),Object(Qn.a)(t,[{key:"render",value:function(){var e=Object(rr.a)({},this.props),t=this.onLogout,n=this.onLoginSuccess,a=this.handleClose,r=this.handleCredentialsSignOn,o=this.handleOnSuccess,c=this.handleError;return u.a.createElement("div",null,u.a.createElement(gr.a,{className:"sign-in-container",open:this.props.ndexSave.ndexModal,onClose:a,"aria-labelledby":"form-dialog-title",PaperComponent:kr,scroll:"body"},this.props.ndexSave.profile?u.a.createElement("div",{className:"sign-in-header"},u.a.createElement(xt.a,{className:"ndex-account-avatar",src:this.props.ndexSave.profile.image},"U"),u.a.createElement($t.a,{variant:"h4",className:"ndex-account-greeting"},"Hi, ",this.props.ndexSave.profile.name),u.a.createElement(Na.a,{onClick:t},"Logout")):u.a.createElement(Ar,{handleClose:a,onLoginSuccess:n,onLogout:t,handleCredentialsSignOn:r,onSuccess:o,handleError:c,error:this.props.ndexSave.errorMessage}),u.a.createElement(wr,e)))}}]),t}(u.a.Component),Tr=n(57),Pr=n.n(Tr),Rr=n(144),Dr=n.n(Rr),Lr=Object(qt.a)((function(e){return{buttonIcon:{height:"2em"},button:{height:"3em",width:"4.3em",minWidth:"4.3em",marginLeft:"0.5em",color:"#4DA1DE"}}}))((function(e){var t=e.classes,n=!(e.network.uuid&&e.network.uuid.length>0),a=Object(qt.a)({root:{width:"4.3em",borderColor:"#4DA1DE",color:"#4DA1DE","&:active":{borderColor:"#4DA1DE",color:"#4DA1DE"},"&:hover":{backgroundColor:Object(ja.fade)("#4DA1DE",.08)}}})(Na.a);return u.a.createElement(fn.a,{disableFocusListener:!0,title:"Open original network in new browser window",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(a,{className:t.button,variant:"outlined",disabled:n,onClick:function(){return function(){var t;t=null!=e.network.url?e.network.url:"http://dev.ndexbio.org/#/network/"+e.network.uuid,console.log("Opening original network entry:",t),window.open(t,"_blank")}()}},u.a.createElement("img",{alt:"NDEx logo",src:n?Dr.a:Pr.a,className:t.buttonIcon}))))})),Ir=n(315),Fr=n(307),_r=n(324),Gr=n(323),Ur={height:"3em",paddingTop:"0.8em",marginLeft:"0.3em"},Br=Object(qt.a)((function(e){return{input:{padding:"8px 26px 8px 12px",backgroundColor:"rgba(0, 0, 0, 0)",borderRadius:4,"&:focus":{backgroundColor:"rgba(0, 0, 0, 0)",borderRadius:4},"&:hover":{backgroundColor:Object(ja.fade)("rgb(65, 84, 178)",.08)}},root:{borderColor:"#ced4da","& $notchedOutline":{borderColor:"rgb(65, 84, 178)"},"&:hover $notchedOutline":{borderColor:"rgb(65, 84, 178)"},"&$focused $notchedOutline":{borderColor:"rgb(65, 84, 178)",borderWidth:"1px"}},focused:{},notchedOutline:{}}}))((function(e){var t=e.classes,n=e.uiState.layouts,a=u.a.useRef(null),r=u.a.useState(0),o=Object(jt.a)(r,2),c=o[0],i=o[1];return Object(s.useEffect)((function(){i(a.current.offsetWidth)}),[]),u.a.createElement("div",{style:Ur},u.a.createElement(sr.a,{variant:"outlined"},u.a.createElement(_r.a,{ref:a,htmlFor:"outlined"},u.a.createElement("font",{color:"#4154b2"},"Layout")),u.a.createElement(Ir.a,{value:e.value,onChange:e.handleChange,input:u.a.createElement(Gr.a,{labelWidth:c,name:"layout",id:"outlined-layout",classes:t})},n?n.map((function(e){return u.a.createElement(Fr.a,{value:e,key:e},u.a.createElement($t.a,{variant:"body2",color:"textSecondary"},e))})):null)))})),Hr=Object(qt.a)((function(e){return{toolbar:{background:"#EFEFEF",height:"4em",paddingTop:"0",paddingBottom:"0",paddingLeft:"0.5em",paddingRight:"0.5em",display:"flex",alignItems:"center",justifyContent:"center"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(Yn.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(Yn.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ja.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ja.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(9),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(Yn.a)({paddingTop:e.spacing(1),paddingRight:e.spacing(1),paddingBottom:e.spacing(1),paddingLeft:e.spacing(10),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),buttonIcon:{height:"2.5em",paddingLeft:"0.5em"},buttons:{padding:"0.3em",display:"flex",alignItems:"center",justifyContent:"flex-start",border:"solid 1px #999999"},openIcon:{marginRight:"0.5em"}}}))((function(e){var t=e.classes,n=Object(Wt.a)(e,["classes"]),a="",r="";if(0!==e.search.actualResults.length){var o=e.network.networkName.replace(":","&").split("&"),c=Object(jt.a)(o,2);a=c[0],r=c[1]}var i=Object(s.useState)(e.uiState.layout),l=Object(jt.a)(i,2),d=l[0],m=l[1];return Object(s.useEffect)((function(){m(e.uiState.layout)}),[e.uiState.layout]),u.a.createElement("div",{className:t.toolbar},u.a.createElement(fn.a,{title:r?Tn(a)+":"+r:e.network.networkName},u.a.createElement($t.a,{className:t.title,variant:"subtitle1",color:"inherit",noWrap:!0},r?Tn(a)+":"+r:e.network.networkName)),u.a.createElement("div",{className:t.grow}),u.a.createElement(Br,Object.assign({value:d,handleChange:function(t){m(t.target.value),e.uiStateActions.setLayout(t.target.value)}},n)),u.a.createElement($a,n),u.a.createElement(Za,n),u.a.createElement(xr,n,u.a.createElement(wr,n)),u.a.createElement(Lr,n),u.a.createElement(Xa,n),u.a.createElement(ar,n))})),Mr=[50,50],Kr=function(e){var t=Object(s.useState)(null),n=Object(jt.a)(t,2),a=n[0],r=n[1];return u.a.createElement("div",{className:"network-view-top"},u.a.createElement(Hr,e),u.a.createElement(Jt.a,{sizes:Mr,direction:"vertical",gutterSize:7,className:"nv-container",onDragEnd:function(e){r(e)}},u.a.createElement(jn,Object.assign({resized:a},e)),u.a.createElement(ka,e)))},Xr=n(302),Wr=n(145),qr=n.n(Wr),zr={position:"relative",left:"0.5em",top:"6px",height:"0.5em",width:"0.5em"},Vr={height:"0.7em",width:"0.7em",position:"relative",bottom:"2px"},Yr=function(e){return u.a.createElement(cr.a,{cancel:'[class*="MuiDialogContent-root"]'},u.a.createElement(lr.a,e))},$r=function(e){var t=Object(s.useState)(!1),n=Object(jt.a)(t,2),a=n[0],r=n[1],o=function(){r(!1)};return u.a.createElement(u.a.Fragment,null,u.a.createElement(dn.a,{"aria-haspopup":"true",onClick:function(){r(!0)},style:zr},u.a.createElement(qr.a,{style:Vr})),u.a.createElement(gr.a,{open:a,onClose:o,PaperComponent:Yr,"aria-labelledby":"draggable-dialog-title"},u.a.createElement(dr.a,{style:{cursor:"move"},id:"draggable-dialog-title"},u.a.createElement($t.a,{component:"span",variant:"h6"},"Sorting")),u.a.createElement(mr.a,{dividers:!0},u.a.createElement(ir.a,{component:"span"},u.a.createElement($t.a,{component:"div",variant:"h6",color:"textPrimary"},"Overlap:"),u.a.createElement($t.a,{component:"div",variant:"body2"},"This refers to the number of genes that are in both the query set and the network. When sorting by overlap, networks with a high number of overlapping genes are at the top of the list, and networks with a low number of overlapping genes are at the bottom of the list."," ",u.a.createElement($t.a,{component:"span",variant:"inherit",color:"textPrimary"},u.a.createElement("strong",null,"Sorting is stable")),", so sorting by ",u.a.createElement("em",null,"p"),"-value and then by overlap will result in a list where networks are sorted by overlap, and networks that are tied for overlap are sorted by ",u.a.createElement("em",null,"p"),"-value."),u.a.createElement("br",null),u.a.createElement($t.a,{component:"div",variant:"h6",color:"textPrimary"},u.a.createElement("em",null,"P"),"-Value:"),u.a.createElement($t.a,{component:"div",variant:"body2"},"This refers to the probability that the query set and the network overlap, to the extent that they do or to a greater extent, by chance. Here, it is calculated using the complementary cumulative distribution function of a"," ",u.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Hypergeometric_distribution",target:"_blank",rel:"noopener noreferrer"},"hypergeometric distribution"),", where:",u.a.createElement("ul",null,u.a.createElement("li",null,"The population size (",u.a.createElement("em",null,"N"),") is equal to the number of genes in the entire database;"),u.a.createElement("li",null,"The number of success states in the population (",u.a.createElement("em",null,"K"),") is equal to the number of genes in the network;"),u.a.createElement("li",null,"The sample size (",u.a.createElement("em",null,"n"),") is equal to the size of the network; and"),u.a.createElement("li",null,"The number of observed successes (",u.a.createElement("em",null,"k"),") is equal to the number of genes that are in both the query set and the network.")),"Then the ",u.a.createElement("em",null,"p"),"-values are adjusted to compensate for the high false discovery rate that is an effect of querying a large database of networks. This is done using the"," ",u.a.createElement("a",{href:"http://www.jstor.org/stable/2346101",target:"_blank",rel:"noopener noreferrer"},"Benjamini-Hochberg method"),", where each ",u.a.createElement("em",null,"p"),"-value is multiplied by the number of networks queried, and then divided by its rank relative to other"," ",u.a.createElement("em",null,"p"),"-values (where low ",u.a.createElement("em",null,"p"),"-values have a low rank and vice versa). When sorting by ",u.a.createElement("em",null,"p"),"-value, networks with a low"," ",u.a.createElement("em",null,"p"),"-value are at the top of the list, and networks with a high ",u.a.createElement("em",null,"p"),"-value are at the bottom of the list."," ",u.a.createElement("a",{href:"https://github.com/ndexbio/ndex-enrichment-rest/wiki/How-Pvalue-is-calculated",target:"_blank",rel:"noopener noreferrer"},"For implementation details, click here"),"."),u.a.createElement("br",null),u.a.createElement($t.a,{component:"div",variant:"h6",color:"textPrimary"},"Similarity:"),u.a.createElement($t.a,{component:"div",variant:"body2"},"This is a way of scoring the similarity between the query set and the genes in the network, while taking into account that some genes are much more universal than other genes, and will appear in many more networks without adding much information. This is based on cosine similarity, using values derived from the"," ",u.a.createElement("a",{href:"https://ethen8181.github.io/machine-learning/clustering_old/tf_idf/tf_idf.html",target:"_blank",rel:"noopener noreferrer"},"Term Frequency-Inverse Document Frequency")," ","of each gene in the query set and the network. Rare genes that are shared between the query set and network will contribute more to the similarity score than common genes, resulting in a higher similarity score. When sorting by similarity, networks that have high similarity are at the top of the list, and networks that have low similarity are at the bottom of the list."," "))),u.a.createElement(Or.a,null,u.a.createElement(Na.a,{onClick:o},"Close"))))},Qr=n(164),Jr=Object(At.a)((function(e){return{root:{"label + &":{marginTop:"0"}},input:{borderRadius:4,position:"relative",backgroundColor:"#FFFFFF",border:"1px solid #ced4da",textColor:"#757575",padding:"5px 26px 5px 12px","&:focus":{borderRadius:4,backgroundColor:"#FFFFFF"}}}}))(Qr.a),Zr={position:"relative",left:"11px",marginTop:"8px",marginBottom:"8px"},eo={paddingLeft:"16px",borderBottom:"1px solid rgba(239, 239, 239, 1)",display:"inline-block",width:"100%"},to={position:"relative",top:"8px"},no={color:"secondary"},ao=function(e){var t=Object(s.useState)(e.uiState.sortBy),n=Object(jt.a)(t,2),a=n[0],r=n[1],o=e.uiState.sortOptions;return"enrichment"===e.uiState.selectedSource?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:eo},u.a.createElement($t.a,{variant:"body2",display:"inline",color:"textSecondary",style:to},"Sort by"),u.a.createElement(sr.a,{style:Zr},u.a.createElement(Ir.a,{value:a,onChange:function(t){e.uiStateActions.setSortBy(t.target.value),r(t.target.value)},displayEmpty:!0,name:"Sort by",style:no,input:u.a.createElement(Jr,{name:"sort",id:"sort-customized-select"})},o.map((function(e){return u.a.createElement(Fr.a,{value:e,key:e},u.a.createElement($t.a,{variant:"body2",color:"textSecondary"},e))})))),u.a.createElement($r,null))):null},ro=function(e){return"p-Value"===e?function(e,t){return e.details.PValue>t.details.PValue?1:e.details.PValue<t.details.PValue?-1:e.rank>t.rank?1:-1}:"Similarity"===e?function(e,t){return e.details.similarity<t.details.similarity?1:e.details.similarity>t.details.similarity?-1:e.rank>t.rank?1:-1}:function(e,t){return e.hitGenes.length<t.hitGenes.length?1:e.hitGenes.length>t.hitGenes.length?-1:e.rank>t.rank?1:-1}},oo=Object(qt.a)((function(e){return{inline:{display:"inline"},subtitle:{marginLeft:"1em",marginTop:"0.5em"},networkAvatar:{margin:5,color:"#fff",backgroundColor:"#FAFAFA"},menuItem:{"&:focus":{backgroundColor:"rgba(230,230,230,0.6)"}},menuText:{"&:focus":{}},secondary:{width:"15em",display:"flex",alignItems:"center",padding:"0.2em"},plot:{width:"80%",background:"teal"},noPadding:{paddingTop:"0",paddingBottom:"0"},center:{justifyContent:"center",position:"relative",top:"25%",display:"flex",width:"100%",height:"100%"}}}))((function(e){var t=e.hits,n=function(t){null!=t?(e.handleFetch(t.networkUUID,t.description,t.nodes,t.edges,t.hitGenes),null!=t.url&&e.networkActions.setOriginalNetworkUrl("http://"+t.url)):e.networkActions.networkClear()};if(Object(s.useEffect)((function(){if("enrichment"===e.uiState.selectedSource&&void 0!=t[0]){t.sort(ro("p-Value"));for(var n=t[0].details.totalNetworkCount,a=0;a<t.length;a++)t[a].details.PValue=t[a].details.PValue*n/(a+1)}}),[t]),Object(s.useEffect)((function(){var a=Object(yn.cloneDeep)(t[0]);if("enrichment"===e.uiState.selectedSource){for(var r=ro(e.uiState.sortBy),o=0;o<t.length;o++)t[o].rank=o;t=t.sort(r)}var c=!1;0===e.search.actualResults.length?(c=!0,e.searchActions.setActualResults(t),n(t[0]),e.networkActions.changeListIndex(1)):e.searchActions.setActualResults(t),c||1===e.network.listIndex&&a.description===t[0].description||(n(t[0]),e.networkActions.changeListIndex(1))}),[e.uiState.sortBy,e.uiState.selectedSource]),!t)return u.a.createElement("div",{className:"network-list-wrapper"});var a=1;function r(t,n){e.networkActions.changeListIndex(n)}var o,c=e.network.listIndex;return o="enrichment"===e.uiState.selectedSource?{height:"calc(100% - 49px)"}:{},e.search.actualResults.length>0?u.a.createElement("div",{className:"network-list-wrapper"},u.a.createElement(ao,e),u.a.createElement("div",{className:"network-list",style:o},u.a.createElement(Xr.a,{className:e.classes.noPadding},e.search.actualResults.map((function(t){return e.renderNetworkListItem(e.search.queryList.length,t,e.classes,r,c,a++)}))))):u.a.createElement("div",{className:"network-list-wrapper"},u.a.createElement("div",{className:"network-list"},u.a.createElement($t.a,{variant:"subtitle1",color:"textSecondary",className:e.classes.center},"No results found")))})),co=n(308),io={lineHeight:"22px",wordBreak:"break-word"},lo={height:"22px",lineHeight:"22px",wordBreak:"break-word"},so={display:"block",height:"22px",margin:"0",padding:"0"},uo={display:"block",height:"22px",margin:"0",padding:"0",position:"relative",top:"22px"},mo={tableLayout:"fixed",wordBreak:"breakWord",borderCollapse:"collapse",borderSpacing:"0"},po=function(e){var t=function(t,a,r,o,c){var i=e.search.queryList,l=e.sourceUUID,s=e.search.results.jobId;e.searchActions.clearSelectedGenes(),e.networkActions.networkFetchStarted({id:s,sourceUUID:l,networkUUID:t,networkName:a,geneList:i,hitGenes:c,nodeCount:r,edgeCount:o}),n(t)},n=function(t){var n=e.search.results.jobId,a=e.search.searchResults,r=e.uiState.selectedSource;void 0!==a&&null!==a&&(console.log("** network changed:",n,r),e.history.push("/".concat(n,"/").concat(r,"/").concat(t)))};return u.a.createElement(Jt.a,{sizes:[40,60],gutterSize:7,className:"ndex-base"},u.a.createElement(oo,Object.assign({renderNetworkListItem:function(n,a,r,o,c,i){var l=a.description,s=a.networkUUID,d=a.nodes,m=a.edges,p=a.imageURL,g=a.hitGenes,f=a.details,h=a.url,E=u.a.createElement("span",{style:so},u.a.createElement($t.a,{display:"inline",color:"enrichment"===e.uiState.selectedSource&&"Overlap"!==e.uiState.sortBy?"textSecondary":"textPrimary"},u.a.createElement("strong",null,g.length)," "),u.a.createElement($t.a,{variant:"caption",display:"inline",color:"enrichment"===e.uiState.selectedSource&&"Overlap"===e.uiState.sortBy?"textPrimary":"textSecondary"},"genes")),b=u.a.createElement(co.a,{style:{width:"20px"}},u.a.createElement("img",{className:"list-icon",src:p,alt:"list icon"})),y=u.a.createElement($t.a,null,"\n");if("enrichment"===e.uiState.selectedSource){var v=f.PValue;if(null!=v){var O=f.totalNetworkCount,S=Math.pow(10,Math.ceil(Math.log(1e-16*O)/Math.LN10));v=v<S?"< "+S:v>1?"~ 1":v.toExponential(2)}var w,C=u.a.createElement("span",{style:so},u.a.createElement($t.a,{display:"inline",color:"p-Value"===e.uiState.sortBy?"textPrimary":"textSecondary"},u.a.createElement("strong",null,v," ")),u.a.createElement($t.a,{variant:"caption",display:"inline",color:"p-Value"===e.uiState.sortBy?"textPrimary":"textSecondary"},"pv")),k=f.similarity;void 0!==k?(k=isNaN(k)?"NaN":k.toFixed(2),w=u.a.createElement("span",{style:so},u.a.createElement($t.a,{display:"inline",color:"Similarity"===e.uiState.sortBy?"textPrimary":"textSecondary"},u.a.createElement("strong",null,k," ")),u.a.createElement($t.a,{variant:"caption",display:"inline",color:"Similarity"===e.uiState.sortBy?"textPrimary":"textSecondary"},"similarity"))):w=null;var j=u.a.createElement($t.a,{style:io},l.split(":").slice(1)),N=u.a.createElement("span",{style:lo},u.a.createElement($t.a,{variant:"caption",color:"textSecondary"},u.a.createElement("span",null,"Nodes: ",d,", "),u.a.createElement("span",null,"Edges: ",m,", "),u.a.createElement("span",null,"Source: ",Tn(l.split(":")[0]))));return u.a.createElement(Lt.a,{button:!0,key:s,onClick:function(n){c!==i&&(t(s,l,d,m,g),o(n,i),null!=h&&e.networkActions.setOriginalNetworkUrl("http://"+h))},selected:c===i},u.a.createElement("table",{style:mo},u.a.createElement("tbody",null,u.a.createElement("tr",{padding:"0"},u.a.createElement("td",{align:"center",valign:"middle",rowSpan:"2",padding:"0"},b),u.a.createElement("td",{align:"left",valign:"baseline",width:"100px",padding:"0"},E,y,C,y,w),u.a.createElement("td",{align:"left",valign:"baseline",padding:"0"},j,y,N)))))}var A=u.a.createElement("span",{style:so},u.a.createElement($t.a,{display:"inline"},u.a.createElement("strong",null,d)," "),u.a.createElement($t.a,{variant:"caption",display:"inline",color:"textSecondary"},"nodes ")),x=u.a.createElement("span",{style:uo},u.a.createElement($t.a,{display:"inline"},u.a.createElement("strong",null,m)," "),u.a.createElement($t.a,{variant:"caption",display:"inline",color:"textSecondary"},"edges")),T=u.a.createElement($t.a,{color:"textPrimary",style:io},l),P=u.a.createElement("span",{style:lo},u.a.createElement($t.a,{variant:"caption",color:"textSecondary"},"Parent: ",f.parent_network_nodes," nodes,"," ",f.parent_network_edges," edges"));return u.a.createElement(Lt.a,{button:!0,key:s,onClick:function(e){t(s,l,d,m,g),o(e,i)},selected:c===i},u.a.createElement("table",{style:mo},u.a.createElement("tbody",null,u.a.createElement("tr",{padding:"0"},u.a.createElement("td",{rowSpan:"2",align:"center",valign:"middle",padding:"0"},b),u.a.createElement("td",{align:"left",valign:"baseline",width:"75px"},E,y,A),u.a.createElement("td",{align:"left",valign:"baseline",padding:"0",width:"80px"},x),u.a.createElement("td",{align:"left",valign:"baseline"},T,y,P)))))},handleFetch:t,hits:e.hits,totalNetworks:e.totalNetworks},e)),u.a.createElement(Kr,Object.assign({handleImportNetwork:function(){e.cyrestActions.importNetworkStarted({cx:e.network.originalCX,source:e.network.sourceId,uuid:e.network.uuid})}},e)))},go=function(e){var t=e.results;return null===t||void 0===t?u.a.createElement(kn,{title:"Loading results",message:u.a.createElement("div",{style:{color:"black"}},"Please wait...")}):u.a.createElement(po,Object.assign({hits:t.results,totalNetworks:t.numberOfNetworks,sourceUUID:t.sourceUUID},e))},fo={enrichment:{label:"Pathway Enrichment"},"interactome-ppi":{label:"Protein Interactions"},"interactome-association":{label:"Gene Association"}},ho=function(e,t){return null==e[t]?"enrichment":e[t].name},Eo=function(e,t){if(null===t||void 0===t)return null;for(var n=t.sources,a=n.length;a--;){var r=n[a];if(r.sourceName===e)return r}return null},bo=Object(qt.a)((function(e){return{tabs:{},grow:{flexGrow:1}}}))((function(e){var t=e.classes,n=Object(Wt.a)(e,["classes"]),a=Object(s.useState)(0),r=Object(jt.a)(a,2),o=r[0],c=r[1];Object(s.useEffect)((function(){i(0)}),[]);var i=function(t){var n=e.search.results;if(null!==n&&void 0!==n){var a=n.jobId,r=e.search.searchResults;if(void 0!==r&&null!==r){var o=ho(l,t);console.log("* Tab change:",a,o),e.uiStateActions.setSelectedSource(o),e.history.push("/".concat(a,"/").concat(o))}}},l=e.source.sources;if(null===l||void 0===l||0===l.length)return u.a.createElement(Qt,null);var d=e.search.searchResults,m=ho(l,o);if(null==m)return u.a.createElement(Qt,null);var p=Eo(m,d);return u.a.createElement("div",{className:"results-container"},u.a.createElement("div",{className:"results-wrapper"},u.a.createElement(zt.a,{value:o,onChange:function(t,n){c(n),i(n),e.networkActions.networkClear(),e.networkActions.changeListIndex(0)},className:t.tabs},l.map((function(e){return u.a.createElement(Yt,{key:e.uuid,label:fo[e.name]?fo[e.name].label:null,backgroundcolor:"rgb(235, 235, 235)"})}))),u.a.createElement(go,Object.assign({results:p},n))))})),yo=(n(224),n(311)),vo=n(312),Oo=n(150),So=n.n(Oo),wo=n(74),Co=n.n(wo),ko=(n(225),n(226),n(227),n(228),n(149)),jo=n.n(ko),No=n(309),Ao=n(146),xo=n(310),To=n(148),Po=n.n(To),Ro=n(102),Do=n.n(Ro),Lo=n(147),Io=n.n(Lo),Fo=n(161),_o=n(101);function Go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Go(n,!0).forEach((function(t){Object(Yn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Go(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bo=_o.examples,Ho=Object(qt.a)({root:{display:"flex",alignItems:"center",justifyContent:"center",width:"60vmin",padding:"0.3em",background:"#f1f1f1",marginLeft:"1em"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})((function(e){var t=e.classes,n=Object(s.useRef)(),a=Object(s.useState)({anchorEl:null,query:e.search.queryGenes}),r=Object(jt.a)(a,2),o=r[0],c=r[1],i=Object(s.useState)(!1),l=Object(jt.a)(i,2),d=l[0],m=l[1],p=Boolean(o.anchorEl);Object(s.useEffect)((function(){return Object(Ao.loadCSS)("https://use.fontawesome.com/releases/v5.1.0/css/all.css",document.querySelector("#insertion-point-jss")),function(){}}),[]);var g,f=function(t,n){var a;a=null==n?o.query:n;var r=e.source.sources;if(0!==a.length&&null!==r&&0!==r.length){var c=r.map((function(e){return e.name})),i=a.replace(","," ").split(/\s*,\s*|\s+/);e.uiStateActions.setSelectedSource("enrichment"),e.searchActions.clearAll(),e.history.push("/"),e.searchActions.setQuery(a),e.searchActions.searchStarted({geneList:i,sourceNames:c})}};return u.a.createElement("div",null,u.a.createElement(gn,{open:d,setOpen:m,message:"Genes are copied to clipboard!",autoHideDuration:4e3,horizontal:"left",vertical:"bottom"}),u.a.createElement(lr.a,{className:t.root,elevation:0},u.a.createElement(fn.a,{title:"Query gene set examples",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(dn.a,{className:t.iconButton,"aria-label":"Menu",onClick:function(e){c(Uo({},o,{anchorEl:e.currentTarget}))}},u.a.createElement(Io.a,null)),u.a.createElement(Fo.a,{anchorEl:o.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:function(){c(Uo({},o,{anchorEl:null}))}},Bo.map((function(t,n){return"Estrogen"!==t.name?u.a.createElement(Fr.a,{key:n,onClick:function(){return c(Uo({},e,{query:Bo[t=n].genes,anchorEl:null})),void f(0,Bo[t].genes);var t}},t.name):null}))))),u.a.createElement(No.a,{className:t.divider}),u.a.createElement(fn.a,{title:"Copy",placement:"bottom"},u.a.createElement(dn.a,{color:"default",className:t.iconButton,"aria-label":"Copy",onClick:function(){document.getElementById("original-gene-text").select(),document.execCommand("copy"),m(!0)}},u.a.createElement(xo.a,{className:Co()(t.icon,"far fa-clipboard")}))),u.a.createElement(No.a,{className:t.divider}),u.a.createElement(fn.a,{title:"Clear gene list",placement:"bottom"},u.a.createElement(dn.a,{color:"default",className:t.iconButton,"aria-label":"Clear",onClick:function(){c(Uo({},o,{query:""}))}},u.a.createElement(Do.a,null))),u.a.createElement(No.a,{className:t.divider}),u.a.createElement(Qr.a,{id:"original-gene-text",className:t.input,placeholder:"Enter gene list (or click menu for examples)",value:o.query,onChange:(g="query",function(t){c(Uo({},e,Object(Yn.a)({},g,t.target.value)))}),onKeyDown:function(e){"Enter"===e.key&&f()},ref:n}),u.a.createElement(fn.a,{title:"Start new search",placement:"bottom"},u.a.createElement(dn.a,{color:"primary",className:t.iconButton,"aria-label":"Directions",onClick:f},u.a.createElement(Po.a,null)))))})),Mo={position:"relative",left:"1em",textTransform:"none"},Ko=function(e){function t(){var e,n;Object($n.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Jn.a)(this,(e=Object(Zn.a)(t)).call.apply(e,[this].concat(r)))).handleMenu=function(){n.props.uiStateActions.setSettingsOpen(!n.props.uiState.isSettingsOpen)},n.handleHomeButton=function(){n.props.searchActions.clearAll(),n.props.uiStateActions.setSelectedSource("enrichment"),n.props.networkActions.networkClear(),n.props.history.push("/")},n}return Object(ea.a)(t,e),Object(Qn.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=Object(Wt.a)(e,["classes"]),a=this.props.uiState.isSettingsOpen;return u.a.createElement(yo.a,{position:"fixed",color:"inherit",className:Co()(t.appBar,Object(Yn.a)({},t.appBarShift,a))},u.a.createElement("div",{className:t.noWrap},u.a.createElement(vo.a,{disableGutters:!a},u.a.createElement(fn.a,{title:"Search by Pathway Enrichment / Protein-Protein Interactions / Gene Association","aria-label":"NDEx_tooltip"},u.a.createElement("div",null,u.a.createElement(Na.a,{style:Mo,onClick:this.handleHomeButton},u.a.createElement(jo.a,{fontSize:"default",className:t.homeLogo}),u.a.createElement($t.a,{variant:"h6",color:"inherit",noWrap:!0},"NDEx Integrated Query")))),null===this.props.search.results?u.a.createElement("div",null):u.a.createElement("div",{className:t.textBox},u.a.createElement(Ho,n)),u.a.createElement("div",{className:t.grow}),u.a.createElement("div",null,u.a.createElement(fn.a,{title:"NDEx",placement:"bottom"},u.a.createElement(dn.a,{color:"default","aria-label":"Home",onClick:function(){return qo(Wo)}},u.a.createElement("img",{alt:"NDEx logo",src:Pr.a,className:t.logo}))),u.a.createElement(fn.a,{title:"Help",placement:"bottom",style:{marginRight:"1em"}},u.a.createElement($t.a,{color:"textPrimary",noWrap:!0,display:"inline"},u.a.createElement(dn.a,{"aria-haspopup":"true",onClick:function(){return qo(Xo)},color:"inherit"},u.a.createElement(So.a,{className:t.logo}))))))))}}]),t}(u.a.Component),Xo="https://github.com/idekerlab/search-portal/wiki",Wo="https://www.ndexbio.org/",qo=function(e){window.open(e,"_blank")},zo=Object(qt.a)((function(e){return{root:{flexGrow:1},grow:{flexGrow:1},hide:{display:"none"},menuButton:{marginLeft:12,marginRight:10},logo:{height:"1em",width:"1.5em"},homeLogo:{height:"1em",width:"1em",marginRight:"0.5em"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},textBox:{paddingLeft:"1em",paddingRight:"1em"},noWrap:{display:"inline-block",whiteSpace:"nowrap"}}}),{withTheme:!0})(Ko),Vo=n(325),Yo=n(152),$o=n.n(Yo),Qo=n(153),Jo=n.n(Qo),Zo=n(154),ec=n.n(Zo),tc=n(107),nc=n.n(tc),ac=n(151),rc=n.n(ac),oc=(n(229),function(e){function t(){var e,n;Object($n.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Jn.a)(this,(e=Object(Zn.a)(t)).call.apply(e,[this].concat(r)))).handleServicesItemClick=function(){var e=n.props.uiState.servicesListOpen;n.props.uiStateActions.setServicesListOpen(!e)},n.handleDrawerClose=function(){var e=n.props.uiState.isSettingsOpen;n.props.uiStateActions.setSettingsOpen(!e)},n}return Object(ea.a)(t,e),Object(Qn.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme,a=this.props.uiState.isSettingsOpen,r=this.props.source.sources,o=this.props.uiState.servicesListOpen;return u.a.createElement(Vo.a,{className:t.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:t.drawerPaper}},u.a.createElement("div",{className:"drawerHeader"},u.a.createElement(dn.a,{onClick:this.handleDrawerClose},"ltr"===n.direction?u.a.createElement($o.a,null):u.a.createElement(Jo.a,null))),u.a.createElement(No.a,null),u.a.createElement(Dt.a,{className:t.root},u.a.createElement(Lt.a,{button:!0,onClick:this.handleServicesItemClick},u.a.createElement(co.a,null,u.a.createElement(nc.a,null)),u.a.createElement(xn.a,{inset:!0,primary:"Services"}),o?u.a.createElement(Gn.a,null):u.a.createElement(Bn.a,null)),u.a.createElement(Fn.a,{in:o,timeout:"auto",unmountOnExit:!0},u.a.createElement(Dt.a,{component:"div"},r.map((function(e){return u.a.createElement(fn.a,{title:"Version: "+e.version,placement:"right",key:e.uuid},u.a.createElement(Lt.a,{button:!0,key:e.uuid,className:t.nested},u.a.createElement(co.a,null,u.a.createElement(nc.a,null)),u.a.createElement(xn.a,{primary:e.name,secondary:" Status: "+e.status})))}))))),u.a.createElement(No.a,null),u.a.createElement(Dt.a,null,["Settings"].map((function(e,t){return u.a.createElement(Lt.a,{button:!0,key:e},u.a.createElement(co.a,null,u.a.createElement(ec.a,null)),u.a.createElement(xn.a,{primary:e}))}))),u.a.createElement(No.a,null),u.a.createElement(Dt.a,null,cc.map((function(e){return u.a.createElement(Lt.a,{button:!0,key:e.name,onClick:function(){return ic(e.url)}},u.a.createElement(co.a,null,u.a.createElement("img",{src:e.src,height:"24px",width:"24px",alt:"list item icon"})),u.a.createElement(xn.a,{primary:e.name}))}))))}}]),t}(u.a.Component)),cc=[{name:"Source Code",url:"https://github.com/idekerlab/search-portal",src:rc.a}],ic=function(e){window.open(e,"_blank")},lc=Object(qt.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240},nested:{paddingLeft:e.spacing(4)}}}),{withTheme:!0})(oc),sc=n(319);function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(n,!0).forEach((function(t){Object(Yn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mc=Object(qt.a)((function(e){return{root:{display:"flex",height:"100vmin"},drawerHeader:dc({display:"flex",padding:"0 0.5em",alignItems:"center"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}),{withTheme:!0})((function(e){Object(s.useEffect)((function(){var t=new URLSearchParams(e.history.location.search).get("cyrestport");return t&&e.cyrestActions.setPort(t),function(){}}),[]);var t=e.classes,n=Object(Wt.a)(e,["classes"]),a=e.uiState.isSettingsOpen;return u.a.createElement("div",{className:t.root},u.a.createElement(sc.a,null),u.a.createElement(zo,n),u.a.createElement(lc,n),u.a.createElement("div",{className:Co()(t.content,Object(Yn.a)({},t.contentShift,a))}),e.children)})),pc=function(e){var t=Object(s.useState)(window.location.origin),n=Object(jt.a)(t,2),a=(n[0],n[1],function(t,n){"POP"===n&&"/"!==t.pathname&&(console.log("Back button::",t,n),e.searchActions.clearAll(),e.history.push("/"))});Object(s.useEffect)((function(){if(null!==e.search.results){var t=e.search.results.jobId;e.searchActions.fetchResultStarted({jobId:t})}var n=e.search.queryList;return 0===n.length?(console.log("* No query genes. Reload called:",e,n),e.searchActions.clearAll(),void e.history.push("/")):(e.history.listen(a),function(){})}),[]);var r=e.search.isFetching,o=e.search.searchResults;return r&&null===o?u.a.createElement(mc,e,u.a.createElement(kn,{title:"Loading Results..."})):u.a.createElement(mc,e,u.a.createElement("div",{className:"container"},u.a.createElement(bo,e),u.a.createElement(Xt,e)))};var gc=Object(f.f)(Object(m.b)((function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source,cyrest:e.cyrest,ndexSave:e.ndexSave}}),(function(e){return{searchActions:Object(d.bindActionCreators)(a,e),uiStateActions:Object(d.bindActionCreators)(r,e),networkActions:Object(d.bindActionCreators)(o,e),sourceActions:Object(d.bindActionCreators)(c,e),cyrestActions:Object(d.bindActionCreators)(i,e),ndexSaveActions:Object(d.bindActionCreators)(l,e)}}))((function(e){return Object(s.useEffect)((function(){e.history.listen((function(e){var t=e.pathname;kt.a.set({page:t}),kt.a.pageview(t)}))}),[]),u.a.createElement(pc,e)}))),fc=n(156),hc=n.n(fc);function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(n,!0).forEach((function(t){Object(Yn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yc=_o.examples,vc=Object(qt.a)({root:{padding:"0.1em 0.25em",display:"flex",alignItems:"center"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})((function(e){var t=e.classes,n=Object(s.useRef)(),a=Object(s.useState)({anchorEl:null,query:""}),r=Object(jt.a)(a,2),o=r[0],c=r[1];Object(s.useEffect)((function(){if(null!==e.search.results){var t=e.search.results.jobId;e.history.push("/".concat(t))}}),[]);var i,l=function(t,n){var a;a=null==n?o.query:n;var r=e.source.sources;if(0!==a.length&&null!==r&&0!==r.length){var c=r.map((function(e){return e.name})),i=a.toString().replace(","," ").split(/\s*,\s*|\s+/);e.searchActions.setQuery(a),e.searchActions.searchStarted({geneList:i,sourceNames:c})}};return u.a.createElement("div",{className:"search-text-panel"},u.a.createElement(lr.a,{className:"search-text-box",elevation:1},u.a.createElement(dn.a,{color:"default",className:t.iconButton,"aria-label":"Directions",onClick:function(){c(bc({},o,{query:""}))}},u.a.createElement(Do.a,null)),u.a.createElement(Qr.a,{className:t.input,placeholder:"Enter gene list (or click an example below)",onChange:(i="query",function(t){c(bc({},e,Object(Yn.a)({},i,t.target.value)))}),onKeyDown:function(e){"Enter"===e.key&&l()},value:o.query,autoFocus:!0}),u.a.createElement(dn.a,{ref:n,className:t.iconButton,"aria-label":"Search",onClick:l},u.a.createElement("img",{alt:"Search icon",src:hc.a,style:{height:"1.25em"}}))),u.a.createElement("div",{className:"query-example-panel"},u.a.createElement($t.a,{align:"center",variant:"subtitle2"},"Query gene set examples:"),u.a.createElement("div",{className:"query-examples"},yc.map((function(t,n){return u.a.createElement("div",{key:t.name},u.a.createElement(fn.a,{title:u.a.createElement("div",{style:{textAlign:"center"}},t.description),placement:"bottom"},u.a.createElement(Na.a,{className:"example-text",color:"inherit",onClick:function(){return c(bc({},e,{query:yc[t=n].genes,anchorEl:null})),void l(null,yc[t].genes);var t}},t.name)))})))),u.a.createElement($t.a,{variant:"caption",color:"textSecondary",align:"center",className:"search-text-caption"},u.a.createElement("em",null,"Send us",u.a.createElement("a",{href:"https://home.ndexbio.org/contact-us/",target:"_blank",rel:"noopener noreferrer"}," ","feedback"),".")))})),Oc=(n(125),n(157)),Sc=n.n(Oc),wc="https://cytoscape.org/",Cc="https://www.ndexbio.org/",kc="https://medschool.ucsd.edu/som/medicine/research/labs/ideker/Pages/default.aspx",jc=function(e){window.open(e,"_blank")},Nc=function(e){return u.a.createElement("footer",{className:"footer-container"},u.a.createElement($t.a,{variant:"subtitle1"},"\xa9 2019 UC San Diego Ideker Lab"),u.a.createElement("img",{alt:"NDEx logo",src:Pr.a,className:"footer-logo",onClick:function(){return jc(Cc)}}),u.a.createElement("img",{alt:"Cytoscape logo",src:sn.a,className:"footer-logo",onClick:function(){return jc(wc)}}),u.a.createElement("img",{alt:"UCSD logo",src:Sc.a,className:"footer-logo",onClick:function(){return jc(kc)}}))},Ac=n(158),xc=n.n(Ac),Tc=function(e){return Object(s.useEffect)((function(){var t=xc.a.parse(e.location.search).genes;if(void 0!==t){var n=t.split(/\s|,/);e.searchActions.setQuery(t),e.searchActions.searchStarted({geneList:n})}return e.sourceActions.findSourceStarted(),function(){}}),[]),e.search.isSearching?u.a.createElement(kn,{title:"Searching Remote Database",message:u.a.createElement("div",{style:{color:"black"}},"Please wait...")}):u.a.createElement("div",{className:"start-container"},u.a.createElement("div",{className:"start-title"},u.a.createElement("div",{className:"description-panel"},u.a.createElement($t.a,{align:"center",variant:"subtitle2"},"One search finds pathways, queries protein interaction networks, and discovers disease, drug, and tissue associations. Powered by NDEx and integrated with Cytoscape")),u.a.createElement("div",{className:"title-panel"},u.a.createElement("img",{className:"start-logo-main",src:Pr.a,alt:"logo",style:{height:"8.75em",paddingRight:"1em"}}),u.a.createElement("div",{className:"flex"},u.a.createElement("div",{className:"app-title"},"NDEx Integrated Query"),u.a.createElement($t.a,{align:"left",style:{position:"relative",left:"0.25em",top:"-0.5em"}},"v1.0"))),u.a.createElement(vc,e),u.a.createElement("div",{className:"search-text-note"},u.a.createElement($t.a,{variant:"caption",align:"left"},"NDEx Integrated Query uses selected pathway and interactome networks in NDEx to power gene set analysis. The networks come from many different sources and new networks will be continuously added. Do you have a pathway or an interaction network that you would like to include in these queries? Click"," ",u.a.createElement("a",{href:"https://home.ndexbio.org/contact-us/",target:"_blank",rel:"noopener noreferrer"},"here")," ","to find out how.")),u.a.createElement("div",{style:{height:"4em"}})),u.a.createElement(Nc,null))},Pc=function(e){return u.a.createElement(mc,e,u.a.createElement(Tc,e))};var Rc=Object(f.f)(Object(m.b)((function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source,cyrest:e.cyrest,ndexSave:e.ndexSave}}),(function(e){return{searchActions:Object(d.bindActionCreators)(a,e),uiStateActions:Object(d.bindActionCreators)(r,e),networkActions:Object(d.bindActionCreators)(o,e),sourceActions:Object(d.bindActionCreators)(c,e),cyrestActions:Object(d.bindActionCreators)(i,e),ndexSaveActions:Object(d.bindActionCreators)(l,e)}}))((function(e){return Object(s.useEffect)((function(){var t=e.location.pathname;kt.a.set({page:t}),kt.a.pageview(t),e.history.listen((function(e){var t=e.pathname;kt.a.set({page:t}),kt.a.pageview(t)}))}),[]),u.a.createElement(Pc,e)}))),Dc=function(e){return u.a.createElement(Rc,e)},Lc=function(e){return u.a.createElement(gc,e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ic,Fc=n(313);function _c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_c(n,!0).forEach((function(t){Object(Yn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Uc,Bc={isSearching:!1,isFetching:!1,queryGenes:"",queryList:[],results:null,searchStatus:null,searchResults:null,selectedGenes:[],resultList:[],actualResults:[]},Hc=(RegExp("(^[a-zA-Z][a-zA-Z0-9-]*$)|(^C[0-9]+orf[0-9]+$)"),Object(Fc.a)((Ic={},Object(Yn.a)(Ic,D,(function(e,t){return Gc({},e,{queryGenes:t.payload})})),Object(Yn.a)(Ic,L,(function(e,t){return Gc({},e,{queryGenes:"",queryList:[]})})),Object(Yn.a)(Ic,M,(function(e,t){return Bc})),Object(Yn.a)(Ic,I,(function(e,t){var n=e.queryGenes.split(" ");return Gc({},e,{isSearching:!0,resultList:[],queryList:n})})),Object(Yn.a)(Ic,F,(function(e,t){return Gc({},e,{results:t.payload,isSearching:!1})})),Object(Yn.a)(Ic,_,(function(e,t){return Gc({},e,{isSearching:!1})})),Object(Yn.a)(Ic,K,(function(e,t){return Gc({},e,{selectedGenes:[t.payload]})})),Object(Yn.a)(Ic,X,(function(e,t){return Gc({},e,{selectedGenes:[]})})),Object(Yn.a)(Ic,U,(function(e,t){return Gc({},e,{isFetching:!0,searchStatus:null,searchResults:null})})),Object(Yn.a)(Ic,B,(function(e,t){return Gc({},e,{isFetching:!1})})),Object(Yn.a)(Ic,H,(function(e,t){return Gc({},e,{isFetching:!1})})),Object(Yn.a)(Ic,G,(function(e,t){return Gc({},e,{searchResults:t.payload.singleResult})})),Object(Yn.a)(Ic,q,(function(e,t){return Gc({},e,{actualResults:t.payload})})),Ic),Bc));function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mc(n,!0).forEach((function(t){Object(Yn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xc,Wc=Object(Fc.a)((Uc={},Object(Yn.a)(Uc,V,(function(e,t){return console.log("OPEN = ",t.payload),Kc({},e,{isSettingsOpen:t.payload})})),Object(Yn.a)(Uc,J,(function(e,t){return Kc({},e,{servicesListOpen:t.payload})})),Object(Yn.a)(Uc,ee,(function(e,t){return Kc({},e,{highlights:t.payload})})),Object(Yn.a)(Uc,ne,(function(e,t){return Kc({},e,{selectedSource:t.payload})})),Object(Yn.a)(Uc,oe,(function(e,t){return Kc({},e,{sortOrder:t.payload})})),Object(Yn.a)(Uc,ce,(function(e,t){return Kc({},e,{sortBy:t.payload})})),Object(Yn.a)(Uc,se,(function(e,t){return Kc({},e,{layout:t.payload})})),Object(Yn.a)(Uc,ue,(function(e,t){return Kc({},e,{layouts:t.payload})})),Object(Yn.a)(Uc,ge,(function(e,t){return Kc({},e,{fit:!e.fit})})),Object(Yn.a)(Uc,he,(function(e,t){return Kc({},e,{layouts:t.payload.layouts,layout:t.payload.layout,annotations:t.payload.annotations?!e.annotations:e.annotations})})),Object(Yn.a)(Uc,me,(function(e,t){return Kc({},e,{annotations:t.payload})})),Uc),{isSettingsOpen:!1,servicesListOpen:!1,highlights:!0,selectedSource:"enrichment",sortOptions:["Overlap","p-Value","Similarity"],sortBy:"Similarity",layout:"Preset",layouts:[],fit:!0,annotations:!1}),qc=n(159);function zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zc(n,!0).forEach((function(t){Object(Yn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zc(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yc=new tn.CyNetworkUtils,$c=new tn.CxToJs(Yc);qc[0].style.push({selector:"node:selected",css:{"background-color":"red",color:"#FFFFFF","background-opacity":1,"border-width":0,width:100,height:100}});var Qc,Jc={selector:"node.faded",css:{opacity:.9}},Zc={selector:"edge.faded",css:{opacity:.9}},ei={selector:".highlight",css:{opacity:1,"overlay-color":"#C51162","overlay-padding":12,"overlay-opacity":.5}},ti={selector:"node:active",css:{"overlay-color":"#FFFF66","overlay-padding":25,"overlay-opacity":.3}},ni=Object(Fc.a)((Xc={},Object(Yn.a)(Xc,xe,(function(e,t){return console.log("Query start: genes = ",t),Vc({},e,{isFetching:!0,nodeCount:t.payload.nodeCount,edgeCount:t.payload.edgeCount,jobId:t.payload.id,sourceId:t.payload.sourceUUID,uuid:t.payload.networkUUID,url:"http://dev.ndexbio.org/#/network/"+t.payload.networkUUID,networkName:t.payload.networkName,queryGenes:t.payload.geneList,hitGenes:t.payload.hitGenes,originalCX:null,network:null,isLayoutComplete:!1,backgroundColor:"",selectedNodes:[],selectedEdges:[],tableDisplayTab:0,layout:"Preset",layouts:[]})})),Object(Yn.a)(Xc,Te,(function(e,t){var n=t.cx,a={},r={};if(e.nodeCount+e.edgeCount<=5e3){try{a=ai(n,e.queryGenes)}catch(o){throw console.warn("Could not convert given CX to CYJS:",o),new Error("Could not convert given CX to CYJS:",o)}r=ri(n)}return Vc({},e,{originalCX:n,network:a,backgroundColor:r,isFetching:!1})})),Object(Yn.a)(Xc,Pe,(function(e,t){return Vc({},e,{network:null,originalCX:null,isFetching:!1,nodeCount:void 0,edgeCount:void 0})})),Object(Yn.a)(Xc,Re,(function(e,t){return Vc({},e,{uuid:"",networkName:"",originalCX:null,network:null,backgroundColor:null,isFetching:!1,nodeCount:void 0,edgeCount:void 0,layout:"Default"})})),Object(Yn.a)(Xc,De,(function(e,t){return Vc({},e,{tableDisplayTab:1,selectedNodes:t.payload})})),Object(Yn.a)(Xc,Le,(function(e,t){return Vc({},e,{selectedNodes:[]})})),Object(Yn.a)(Xc,Ie,(function(e,t){return Vc({},e,{tableDisplayTab:2,selectedEdges:t.payload})})),Object(Yn.a)(Xc,Fe,(function(e,t){return Vc({},e,{selectedEdges:[]})})),Object(Yn.a)(Xc,_e,(function(e,t){return Vc({},e,{tableDisplayTab:0,selectedNodes:[],selectedEdges:[]})})),Object(Yn.a)(Xc,Ge,(function(e,t){return Vc({},e,{tableDisplayTab:t.payload})})),Object(Yn.a)(Xc,Ue,(function(e,t){return Vc({},e,{listIndex:t.payload})})),Object(Yn.a)(Xc,Be,(function(e,t){return Vc({},e,{url:t.payload})})),Xc),{isFetching:!1,uuid:"",jobId:"",sourceId:"",networkName:"",url:"",queryGenes:[],hitGenes:[],originalCX:null,network:null,nodeCount:0,edgeCount:0,isLayoutComplete:!1,selectedNodes:[],selectedEdges:[],tableDisplayTab:0,listIndex:0}),ai=function(e,t){var n=Yc.rawCXtoNiceCX(e),a={},r=$c.cyElementsFromNiceCX(n,a),o=$c.cyStyleFromNiceCX(n,a),c=ii(o),i=oi(r.nodes,t);return{elements:[].concat(Object(Nt.a)(i),Object(Nt.a)(r.edges)),style:c,isLayout:ci(r.nodes)}},ri=function(e){var t=e.filter((function(e){return e.cyVisualProperties}));return void 0!==t&&null!==t&&0!==t.length?t[0].cyVisualProperties.filter((function(e){return"network"===e.properties_of}))[0].properties.NETWORK_BACKGROUND_PAINT:"#FFFFFF"},oi=function(e,t){for(var n=e.length,a=new Set(t.map((function(e){return e.toUpperCase()})));n--;){var r=e[n],o=r.data.name?r.data.name.toUpperCase():null;a.has(o)&&(r.data.query="true")}return e},ci=function(e){return void 0!==e[0].position},ii=function(e){return e.push(Jc),e.push(Zc),e.push(ei),e.push(ti),e},li=ni;function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(n,!0).forEach((function(t){Object(Yn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var di,mi=Object(Fc.a)((Qc={},Object(Yn.a)(Qc,We,(function(e,t){return ui({},e,{isFetchingSource:!0,error:null,sources:[]})})),Object(Yn.a)(Qc,qe,(function(e,t){return ui({},e,{sources:t.sources,isFetchingSource:!1,error:null})})),Object(Yn.a)(Qc,ze,(function(e,t){return console.warn("Error:",t.error),ui({},e,{isFetchingSource:!1,error:t.error,sources:[]})})),Object(Yn.a)(Qc,Ve,(function(e,t){return ui({},e,{currentSource:t.payload})})),Qc),{isFetchingSource:!1,sources:[],error:null,currentSource:null});function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pi(n,!0).forEach((function(t){Object(Yn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fi,hi=Object(Fc.a)((di={},Object(Yn.a)(di,Je,(function(e,t){return gi({},e,{lastResponse:null,isLoadingNetwork:!0,error:null})})),Object(Yn.a)(di,Ze,(function(e,t){return gi({},e,{lastResponse:t,isLoadingNetwork:!1,error:null})})),Object(Yn.a)(di,et,(function(e,t){return gi({},e,{lastResponse:t,error:t.error,isLoadingNetwork:!1})})),Object(Yn.a)(di,nt,(function(e,t){return console.info("CyREST port = ",t.payload),gi({},e,{port:t.payload})})),Object(Yn.a)(di,ot,(function(e,t){return gi({},e,{available:null,isFetchingAvailable:!0})})),Object(Yn.a)(di,ct,(function(e,t){return gi({},e,{available:t.payload,isFetchingAvailable:!1})})),Object(Yn.a)(di,st,(function(e,t){return gi({},e)})),Object(Yn.a)(di,ut,(function(e,t){return gi({},e)})),di),{isFetchingAvailable:!1,available:!1,isPollingAvailable:!1,port:1234,error:null,lastResponse:null,isLoadingNetwork:!1});function Ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ei(n,!0).forEach((function(t){Object(Yn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ei(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yi=Object(Fc.a)((fi={},Object(Yn.a)(fi,mt,(function(e,t){return bi({},e,{ndexModal:t.payload,errorMessage:null,networkUrl:null})})),Object(Yn.a)(fi,gt,(function(e,t){return bi({},e,{profile:t.payload})})),Object(Yn.a)(fi,ht,(function(e,t){return bi({},e)})),Object(Yn.a)(fi,bt,(function(e,t){return bi({},e)})),Object(Yn.a)(fi,vt,(function(e,t){return bi({},e)})),Object(Yn.a)(fi,Ct,(function(e,t){return bi({},e,{errorMessage:t.payload})})),Object(Yn.a)(fi,St,(function(e,t){return bi({},e,{networkUrl:t.payload})})),fi),{ndexModal:!1,profile:null,errorMessage:null,networkUrl:null}),vi=Object(d.combineReducers)({source:mi,search:Hc,uiState:Wc,network:li,cyrest:hi,ndexSave:yi}),Oi=function(e,t,n){var a=Da+e+"/overlaynetwork?sourceUUID="+t+"&networkUUID="+n;return console.log("Calling CX API:",a),fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}})},Si=function(e){return fetch("http://mygene.info/v3/query?q="+e+"&scopes=symbol&fields=symbol,name,taxid,entrezgene,summary,genomic_pos,go,pathway",{method:"POST"})},wi=function(){return fetch("http://dev.ndexbio.org/integratedsearch/v1/source",{method:"GET",mode:"cors"}).then((function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e})).catch((function(e){return{error:e}}))},Ci=function(e){return fetch(Da+e+"/status",{method:"GET"}).then((function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e})).catch((function(e){return{error:e}}))},ki=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Da+e,a=new URL(n);return null!==t&&a.searchParams.append("source",t),fetch(a,{method:"GET"}).then((function(e){if(!e.ok)throw Error("Failed to fetch search result:"+e.status);return e})).catch((function(e){return{error:e}}))},ji=function(e,t){var n={geneList:e,sourceList:t},a=new Headers({"Content-Type":"application/json"});return fetch("http://dev.ndexbio.org/integratedsearch/v1/",{method:"POST",headers:a,body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw Error("Failed to send query:"+e.status);return e})).catch((function(e){return{error:e}}))},Ni=function(e){for(var t=new Map,n=new Array,a=e.length;a--;){var r=e[a],o=r.query;r.notfound?n.push(o):t.set(o,r)}return{uniqueGeneMap:t,notFound:n}},Ai=Pa.a.mark(Li),xi=Pa.a.mark(Fi),Ti=Pa.a.mark(_i),Pi=Pa.a.mark(Gi),Ri=Pa.a.mark(Ui),Di=500;function Li(e){var t,n,a,r,o,c,i,l,s,u,d,m,p,g,f;return Pa.a.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:if(t=e.payload.geneList,(n=e.payload.sourceNames)&&0!==n.length){h.next=12;break}return h.next=5,Object(Ra.b)(wi);case 5:return a=h.sent,h.next=8,Object(Ra.b)([a,"json"]);case 8:r=h.sent,o=r.results,n=(n=o.map((function(e){return e.name}))).filter((function(e){return"keyword"!==e}));case 12:return c=t.join(),h.prev=13,h.next=16,Object(Ra.a)([Object(Ra.b)(Si,c),Object(Ra.b)(ji,t,n)]);case 16:return i=h.sent,l=Object(jt.a)(i,2),s=l[0],u=l[1],h.next=22,Object(Ra.b)([s,"json"]);case 22:return d=h.sent,m=u.headers.get("Location"),p=m.split("/"),g=p[p.length-1],f=Ni(d),h.next=29,Object(Ra.c)({type:S,payload:{genes:f.uniqueGeneMap,notFound:f.notFound,resultLocation:m,jobId:g}});case 29:h.next=36;break;case 31:return h.prev=31,h.t0=h.catch(13),console.warn("NDEx search error:",h.t0),h.next=36,Object(Ra.c)({type:w,payload:{message:"NDEx network search error",query:c,error:h.t0.message}});case 36:case"end":return h.stop()}}),Ai,null,[[13,31]])}var Ii=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Fi(e){var t,n,a,r,o,c,i,l,s,u,d,m,p;return Pa.a.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:t=e.payload.jobId,n=[],a=new Set,g.prev=3;case 4:return g.next=7,Object(Ra.b)(Ci,t);case 7:return r=g.sent,g.next=10,Object(Ra.b)([r,"json"]);case 10:o=g.sent,c=o.sources,i=c.length;case 13:if(!i--){g.next=31;break}if(l=c[i],s=l.progress,u=l.sourceName,100!==s){g.next=29;break}if(a.has(u)){g.next=29;break}return g.next=20,Object(Ra.b)(ki,t,u);case 20:return d=g.sent,g.next=23,Object(Ra.b)([d,"json"]);case 23:return m=g.sent,n.push(m.sources[0]),a.add(u),m.sources=n,g.next=29,Object(Ra.c)({type:C,payload:{singleResult:m}});case 29:g.next=13;break;case 31:for(i=c.length,p=0;i--;)100===c[i].progress&&p++;if(p!==c.length){g.next=37;break}return console.log("!! Search & fetch finished:",p,n),g.abrupt("break",41);case 37:return g.next=39,Object(Ra.b)(Ii,Di);case 39:g.next=4;break;case 41:return g.next=43,Object(Ra.c)({type:j,payload:{}});case 43:g.next=50;break;case 45:return g.prev=45,g.t0=g.catch(3),console.warn("NDEx search error:",g.t0),g.next=50,Object(Ra.c)({type:N,payload:{message:"Failed to fetch search result",jobId:t,error:g.t0.message}});case 50:case"end":return g.stop()}}),xi,null,[[3,45]])}function _i(e){var t,n,a,r,o,c;return Pa.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload,n=t.id,a=t.sourceUUID,r=t.networkUUID,i.next=7,Object(Ra.b)(Oi,n,a,r);case 7:return o=i.sent,i.next=10,Object(Ra.b)([o,"json"]);case 10:return c=i.sent,i.next=13,Object(Ra.c)({type:be,cx:c});case 13:i.next=19;break;case 15:return i.prev=15,i.t0=i.catch(0),i.next=19,Object(Ra.c)({type:ye,error:i.t0});case 19:case"end":return i.stop()}}),Ti,null,[[0,15]])}function Gi(e){var t,n,a;return Pa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ra.b)(wi);case 3:return t=e.sent,e.next=6,Object(Ra.b)([t,"json"]);case 6:return n=e.sent,a=n.results,e.next=10,Object(Ra.c)({type:Me,sources:a});case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,Object(Ra.c)({type:Ke,error:e.t0});case 16:case"end":return e.stop()}}),Pi,null,[[0,12]])}function Ui(){return Pa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ra.g)(O,Li);case 2:return e.next=4,Object(Ra.g)(k,Fi);case 4:return e.next=6,Object(Ra.g)(Ee,_i);case 6:return e.next=8,Object(Ra.g)(He,Gi);case 8:case"end":return e.stop()}}),Ri)}var Bi=Pa.a.mark(Mi),Hi=Pa.a.mark(Xi);function Mi(){return Pa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ra.g)(Ye,Xi);case 2:case"end":return e.stop()}}),Bi)}var Ki=function(e){return e.cyrest.port};function Xi(e){var t,n,a,r,o,c;return Pa.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload.cx,i.prev=1,i.next=4,Object(Ra.e)(Ki);case 4:return n=i.sent,a=!0,t.forEach((function(e){e.numberVerification&&(a=!1)})),r=(a?[{numberVerification:[{longNumber:0xffffffffffff}]}]:[]).concat(t),i.next=10,Object(Ra.b)(Ia,n,r);case 10:return o=i.sent,i.next=13,Object(Ra.b)([o,"json"]);case 13:return c=i.sent,console.log("CyREST response:",o),i.next=17,Object(Ra.c)({type:$e,payload:c});case 17:i.next=24;break;case 19:return i.prev=19,i.t0=i.catch(1),console.warn("CyREST import network error:",i.t0),i.next=24,Object(Ra.c)({type:Qe,payload:{message:"CyREST import network error",error:i.t0.message}});case 24:case"end":return i.stop()}}),Hi,null,[[1,19]])}var Wi=function(e){return fetch("http://ndexbio.org/v2/user?valid=true",{method:"GET",headers:e})},qi=function(e,t){return fetch("http://ndexbio.org/v2/network",{method:"POST",headers:t,body:JSON.stringify(e)})},zi=Pa.a.mark(Qi),Vi=Pa.a.mark(Ji),Yi=Pa.a.mark(Zi),$i=Pa.a.mark(el);function Qi(){return Pa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ra.g)(Et,Ji);case 2:return e.next=4,Object(Ra.g)(ft,Zi);case 4:return e.next=6,Object(Ra.g)(yt,el);case 6:case"end":return e.stop()}}),zi)}function Ji(e){var t,n,a,r,o;return Pa.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.tokenObj.token_type+" "+t.tokenObj.id_token,a={name:t.profileObj.name,image:t.profileObj.imageUrl,authorization:{type:"google",token:n}},r=new Headers({Authorization:a.authorization.token}),c.prev=4,c.next=7,Object(Ra.b)(Wi,r);case 7:return c.next=9,Object(Ra.c)({type:pt,payload:a});case 9:c.next=16;break;case 11:if(c.prev=11,c.t0=c.catch(4),!(o=c.t0.response.data.message||"Failed to verify account. "+c.t0).startsWith("User with email")||!o.endsWith("doesn't exist.")){c.next=16;break}return c.abrupt("return");case 16:case"end":return c.stop()}}),Vi,null,[[4,11]])}function Zi(e){var t,n,a,r,o,c,i;return Pa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.basicAuthSignIn.accountName.value,n=window.basicAuthSignIn.password.value,a="Basic "+window.btoa(t+":"+n),r=new Headers({Authorization:a}),e.prev=4,e.next=7,Object(Ra.b)(Wi,r);case 7:return o=e.sent,e.next=10,Object(Ra.b)([o,"json"]);case 10:if(c=e.sent,200==o.status){e.next=16;break}return e.next=14,Object(Ra.c)({type:wt,payload:c.message});case 14:e.next=19;break;case 16:return i={name:c.firstName,image:c.image,authorization:{type:"ndex",token:a}},e.next=19,Object(Ra.c)({type:pt,payload:i});case 19:e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(4),console.log(e.t0),e.next=26,Object(Ra.c)({type:wt,payload:"Unknown error"});case 26:case"end":return e.stop()}}),Yi,null,[[4,21]])}function el(e){var t,n,a,r,o,c;return Pa.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload.token,n=e.payload.cx,a=new Headers({"Content-Type":"application/json",Authorization:t}),i.next=5,Object(Ra.b)(qi,n,a);case 5:return r=i.sent,console.log("resp",r),console.log("resp.body"+r.body),i.next=10,Object(Ra.b)([r,"text"]);case 10:return o=i.sent,c=o.replace("/v2/","/#/"),console.log("networkURL",c),i.next=15,Object(Ra.c)({type:Ot,payload:c});case 15:case"end":return i.stop()}}),$i)}kt.a.initialize("UA-62588031-8",{gaOptions:{siteSpeedSampleRate:100}});var tl={SetQuery:y,OpenInCytoscape:"OPEN_IN_CYTOSCAPE",NetworkSelected:"NETWORK_FETCH_STARTED"},nl=function(e){var t=e.type;if(t===y)kt.a.event({category:"User Action",action:tl.SetQuery,label:e.payload});else if("IMPORT_NETWORK_STARTED"===t)kt.a.event({category:"User Action",action:tl.OpenInCytoscape,label:e.payload.uuid});else{if(void 0===e.payload||null==e.payload)return;kt.a.event({category:"User Action",action:tl.NetworkSelected,label:"".concat(e.payload.sourceUUID,"/").concat(e.payload.networkUUID)})}},al=Object(h.a)(),rl=Object(d.createStore)(vi,Object(E.composeWithDevTools)(Object(d.applyMiddleware)(al),Object(d.applyMiddleware)((function(e){return function(e){return function(t){return nl(t),e(t)}}}))));al.run(Ui),al.run(Mi),al.run(Ma),al.run(Qi);Object(p.render)(u.a.createElement((function(e){var t=e.store;return u.a.createElement(m.a,{store:t},u.a.createElement(g.a,{basename:""},u.a.createElement(f.c,null,u.a.createElement(f.a,{exact:!0,path:"/",component:Dc}),u.a.createElement(f.a,{path:"/:jobid/:sourceId/:networkId",component:Lc}),u.a.createElement(f.a,{path:"/:jobid/:sourceId",component:Lc}),u.a.createElement(f.a,{path:"/:jobid",component:Lc}))))}),{store:rl}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},57:function(e,t,n){e.exports=n.p+"static/media/ndex-logo.04d7bf44.svg"},64:function(e,t,n){},71:function(e,t,n){e.exports=n.p+"static/media/cytoscape-logo.4aa4c296.svg"}},[[180,1,2]]]);
//# sourceMappingURL=main.65f27707.chunk.js.map